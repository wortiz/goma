<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rotation Specifications &mdash; Goma User Manual 6.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Problem Description" href="problem_description.html" />
    <link rel="prev" title="Boundary Condition Specifications" href="boundary_conditions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Goma User Manual
            <img src="../_static/goma.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_structure_and_io.html">Code Structure and I/O</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../problem_description_file.html">Problem Description (Input File)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="file_specifications.html">File Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="general_specifications.html">General Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_integration.html">Time Integration Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="level_set.html">Level Set Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="phase_field.html">Phase Field Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="continuation.html">Continuation Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="hunting.html">Hunting Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="augmenting_conditions.html">Augmenting Conditions Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="solver_specifications.html">Solver Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="eigensolver.html">Eigensolver Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary_conditions.html">Boundary Condition Specifications</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Rotation Specifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1"><strong>Rotation Specifications</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description-usage"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#technical-discussion"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#references"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rot-surface"><strong>ROT SURFACE</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rot-edge"><strong>ROT EDGE</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rot-vertex"><strong>ROT VERTEX</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#end-of-rot"><strong>END OF ROT</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id14"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="problem_description.html">Problem Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing.html">Post Processing Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_fluxes.html">Post Processing Fluxes and Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_particle.html">Post Processing Particle Traces</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_volume.html">Volumetric Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../material_files.html">Material Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation_lists.html">Appendix 1: Goma Documentation Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_mode.html">Appendix 2: Using Goma in Library Mode</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Goma User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../problem_description_file.html">Problem Description (Input File)</a> &raquo;</li>
      <li>Rotation Specifications</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/problem_description_file/rotation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rotation-specifications">
<h1>Rotation Specifications<a class="headerlink" href="#rotation-specifications" title="Permalink to this headline"></a></h1>
<p>This section descibes special input for controlling boundary condition implementation of vector equations in 3D problems. For 2D problems, the information in this section of the <em>Goma</em> input file is not read or used. It is also optional in 3D problems when none of the boundary conditions are
rotated (see discussion below). However, these specifications are mandatory in all 3D problems which require equation rotation at the boundaries (e.g. <em>PLANE, KINEMATIC, VELO_NORMAL</em>), a condition especially prevalent in free-surface problems. The goal of this input section is to
specify the exact implementation of the equations at any boundary with rotated conditions (called <em>rotated boundaries</em> throughout this discussion). But first, consider the necessary background.</p>
<blockquote>
<div><p><strong>Rotation of Vector Equations :</strong> The fluid momentum and psuedo-solid or
Lagrangian solid momentum equations are vector equations (i.e., they have x, y, and z components). The boundary conditions applied to these equations can either be vector conditions (applying in the x, y, and z directions) or scalar conditions (a single function of the solution and x, y, and z). Scalar conditions applied to vector equations represent a special
challenge, because it is often unclear which of the vector equations should be replaced by the scalar conditions. For many scalar conditions, e.g. Dirichlet conditions, the user specifies which component of the momentum equation gets replaced by the scalar condition; however, not replacing all the components of the vector equation at a boundary results
in applying a shear-stress-free or normal-stress-free condition there (because the BOUNDARY term of the equations needs to be computed or else the normal traction is implicitly zero).</p>
<p>In some cases, a better way to apply a scalar condition is to use it to replace the normal or tangential contribution of the vector equations, while retaining the other portions of the equation (e.g., a no penetration condition could constrain the normal component of velocity
but still allow the stress along the boundary to be shear-free). In <em>Goma</em>, this is done by rotating the vector equation into a normal-tangential form:</p>
</div></blockquote>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/256_goma_physics.png"><img alt="../_images/256_goma_physics.png" src="../_images/256_goma_physics.png" style="width: 90%;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<blockquote>
<div><p><em>n</em> and <em>t</em> are the unit normal and tangent vectors at the boundary (evaluated at the centroid along the boundary of an element) and <span class="math notranslate nohighlight">\(R_i^f\)</span>
is the vector form of the weighted residual equation. This rotation is performed after all weak boundary conditions have been applied, but prior to application of strong boundary conditions. Thus any weak contributions to the vector equation are retained throughout the rotation. <span class="math notranslate nohighlight">\(R_i^{fn}\)</span> is the normal component of the vector equation and <span class="math notranslate nohighlight">\(R_i^{ft}\)</span> is the tangent component of the vector equation. Note that the equations are rotated <em>after</em> they have been integrated rather than before; thus, the new residual equations are only strictly in normal-tangential form along straight boundaries (along curved boundaries there may be some error which becomes small as the element size decreases).</p>
<p>In <em>Goma</em>, rotated boundary conditions cause rotation of the vector equation on an element side if there are no Dirichlet conditions applied to that vector equation and if the total number of independent rotated conditions is less than the number of dimensions of the physical problem (i.e., in a 2D problem, the vector equation is rotated only when one independent rotated condition exists at that node).</p>
</div></blockquote>
<p>Thus along any rotated boundary, the three vector equations (e.g. x, y, and z mesh equations) are replaced by three new equations as specified in this section. The user can decide to replace the component equations by rotated forms of the equations (or even unrotated forms of the equations), or to replace the component equations by boundary conditions. These specifications
also dictate how to calculate the tangent vectors which are sometimes ill-defined in 3D. This section is designed to accommodate an arbitrary number of rotation specifications listed in the <em>Goma</em> input between <em>Rotation Specifications</em> = and <em>END OF ROT</em>.</p>
<p>All of this behavior is implemented through the overloaded <em>ROT</em> input card. There are three types of <em>ROT</em> cards depending on whether the condition applies on a surface, an edge or a vertex. <em>Goma</em> makes no assumptions about the topology of the mesh surfaces; all the topology is defined
through the <em>ROT</em> card. In this implementation, a <em>surface</em> is defined as a side-set, an <em>edge</em> is defined as the intersection of two side-sets, and a <em>vertex</em> is defined as the intersection of three side-sets at a single node. Although all three types of input cards start with <em>ROT</em> =, we list them as three independent cards to make the discussion more straightforward. As nodes that are contained on edges must also be contained on the adjacent surfaces, these rotation specifications have a hierarchy – vertex, edge, surface – such that vertex conditions override edge conditions which
override surface conditions.</p>
<p>Note: it is possible to solve a 3D problem with rotated boundaries by only creating rotation specifications for those boundaries, and letting <em>Goma</em> determine the behavior at the remaining boundaries. However, this is a dangerous practice; it is much better to explicitly tell <em>Goma</em> how to
treat all boundaries so that the behavior is well defined. An important example is the intersection of a rotated boundary and an unrotated boundary, it is still a rotated boundary and requires an edge <em>ROT</em> specification.</p>
<section id="id1">
<h2><strong>Rotation Specifications</strong><a class="headerlink" href="#id1" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rotation</span> <span class="n">Specifications</span> <span class="o">=</span>
</pre></div>
</div>
<section id="description-usage">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#description-usage" title="Permalink to this headline"></a></h3>
<p>This card denotes the start of the rotation specification cards. All rotation specification cards between this card and the END OF ROT card will read and processed. If this card is not present, no rotation cards will be read.</p>
</section>
<section id="examples">
<h3><strong>Examples</strong><a class="headerlink" href="#examples" title="Permalink to this headline"></a></h3>
<p>There are no input parameters for this card. It should appear on its on line exactly as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rotation</span> <span class="n">Specifications</span> <span class="o">=</span>
</pre></div>
</div>
</section>
<section id="technical-discussion">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#technical-discussion" title="Permalink to this headline"></a></h3>
<p>No Discussion.</p>
</section>
<section id="references">
<h3><strong>References</strong><a class="headerlink" href="#references" title="Permalink to this headline"></a></h3>
<p>No References.</p>
</section>
</section>
<section id="rot-surface">
<h2><strong>ROT SURFACE</strong><a class="headerlink" href="#rot-surface" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">ROT</span> <span class="o">=</span> <span class="p">{</span><span class="n">MESH</span> <span class="o">|</span> <span class="n">MOM</span><span class="p">}</span> <span class="n">SURFACE</span> <span class="o">&lt;</span><span class="n">bc_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_y</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">int_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_z</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">seed_method</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float3</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id2">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<p>This rotation specification card identifies a specific surface that requires rotation of equations for proper application of boundary conditions in three dimensional problems. It identifies the boundary conditions that are to be applied on that surface. It also identifies which equation components are to be replaced by boundary conditions, which are to be replaced by rotated equation components, and which are to be left alone. Equation components refer, currently, to only rotation of mesh and momentum equations. This card also identifies the manner in which two independent tangent vectors are to be determined on the surface.</p>
<p>Definitions of the first three input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>{MESH | MOM}</strong></p></td>
<td><p>Equation type (&lt;eq_type&gt;) to which this rotation
condition applies:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>MESH</strong> - Applies to mesh equations.</p></li>
<li><p><strong>MOM</strong> - Applies to fluid momentum equations.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>SURFACE</strong></p></td>
<td><p>Type of rotation specification.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id&gt;</p></td>
<td><p>An integer identifying the side set designation
of the surface to which this rotation condition
applies.</p></td>
</tr>
</tbody>
</table>
<p>The next six parameters dictate how the x, y, and z components of the vector equation are replaced by boundary conditions or rotated equations using pairs of specifiers, e.g., &lt;string_x&gt; and &lt;int_x&gt; for the x-component of the equation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;string_x&gt;</p></td>
<td><p>A character string that specifies what will replace the
x-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 1 (Valid Equation Rotation Strings).</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_x&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_x&gt; is a boundary condition name, then
&lt;int_x&gt; is the side set or node set designation
to which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_x&gt; is a rotation string from Table 1,
&lt;int_x&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_y&gt;</p></td>
<td><p>A character string that specifies what will replace the
y-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 1.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_y&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_y&gt; is a boundary condition name, then
&lt;int_y&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_y&gt; is a rotation string from Table 1,
&lt;int_y&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_z&gt;</p></td>
<td><p>A character string that specifies what will replace the
z-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 1.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_z&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_z&gt; is a boundary condition name, then
&lt;int_z&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_z&gt; is a rotation string from Table 1,
&lt;int_z&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p><strong>Table 1. Valid Equation Rotation Strings</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>{string_x|y|z}</strong></p></th>
<th class="head"><p><strong>Description of Equation Rotation Selections</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>NONE, NA,</strong> or <strong>NO</strong></p></td>
<td><p>No rotation is performed for this equation component.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>N</strong></p></td>
<td><p>This equation component is replaced by normal
component of the residual tn • R</p></td>
</tr>
<tr class="row-even"><td><p><strong>T</strong></p></td>
<td><p>This equation component is replaced by the tangential
component of the residual: t • R (EDGE and VERTEX only)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>T1</strong></p></td>
<td><p>This equation component is replaced by the first
tangential component of the residual: T1 • R</p></td>
</tr>
<tr class="row-even"><td><p><strong>T2</strong></p></td>
<td><p>This equation component is replaced by the second
tangential component of the residual: T2 • R</p></td>
</tr>
<tr class="row-odd"><td><p><strong>X</strong></p></td>
<td><p>This equation is replaced by the x-component of the
residual.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Y</strong></p></td>
<td><p>This equation is replaced by the y-component of the
residual.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Z</strong></p></td>
<td><p>This equation is replaced by the z-component of the
residual.</p></td>
</tr>
<tr class="row-even"><td><p><strong>S</strong></p></td>
<td><p>The equation component is replaced by the projection
of the equations in the direction of the seed vector:
S • R</p></td>
</tr>
<tr class="row-odd"><td><p><strong>B</strong></p></td>
<td><p>The equation component is replaced by the projection
of the equations in the direction of the binormal vector.</p></td>
</tr>
</tbody>
</table>
<p>In most cases, only one of the three equations on a surface will be replaced by boundary conditions, and the remaining two equations will be rotated in the two tangent directions. Such a form constrains the normal motion of the solid or fluid while allowing tangential motions to occur stress-free.</p>
<p>The last four parameters in the card specify how to calculate the tangent vectors on the surface. In 3D, an infinite number of equally valid tangent pairs exist, so this card enables specifying how to choose those pairs. More specifically it identifies how to identify the first tangent vector (T1) since the second tangent vector is always be obtained via the cross product of the normal vector with the first tangent vector (T1).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>{seed_method}</p></td>
<td><p>A character string that defines the method of tangent
calculation. Valid options are listed in the Surface
Tangent Calculation Method (Table 2).</p></td>
</tr>
<tr class="row-even"><td><p>&lt;float1&gt;</p></td>
<td><p>x-component of the seed vector, s. This parameter is
only needed if {seed_method} is <strong>SEED</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;float2&gt;</p></td>
<td><p>y-component of the seed vector, s. This parameter is
only needed if {seed_method} is <strong>SEED</strong>.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;float3&gt;</p></td>
<td><p>z-component of the seed vector, s. This parameter is
only needed if {seed_method} is <strong>SEED</strong>.</p></td>
</tr>
</tbody>
</table>
<p>Note that the seed vector specified does not have to be a unit vector.</p>
<p><strong>Table 2. Surface Tangent Calculation Method</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>{seed_method}</strong></p></th>
<th class="head"><p><strong>Description of Tangent Calculation Methods</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>NONE</strong></p></td>
<td><p>Tangent vectors should not be calculated. This is the
usual choice for EDGE and VERTEX rotation types.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>SEED</strong></p></td>
<td><p>The first tangent vector (T1) is calculated from a
surface projection of a seed vector, s: T1 = (I – nn) • s</p></td>
</tr>
<tr class="row-even"><td><p><strong>BASIS</strong></p></td>
<td><p>The first tangent is the direction of the first basis
vector in the surface using a weighted average for adjacent elements.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>BASIS_FIRST</strong></p></td>
<td><p>The first tangent is the direction of the first
finite element basis vector in the first element containing a given node.</p></td>
</tr>
<tr class="row-even"><td><p><strong>BASIS_RESEED</strong></p></td>
<td><p>The tangent resulting from BASIS_FIRST is used to
reseed tangent calculation in the adjacent elements.
(This method is the most reliable.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id3">
<h3><strong>Examples</strong><a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<p>The following are several examples of useful rotation specifications for surfaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MESH</span>   <span class="n">SURFACE</span>   <span class="mi">99</span>   <span class="n">KINEMATIC</span>   <span class="mi">99</span>   <span class="n">T2</span>   <span class="mi">0</span>   <span class="n">T1</span>   <span class="mi">0</span>   <span class="n">BASIS_RESEED</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MESH</span>   <span class="n">SURFACE</span>   <span class="mi">16</span>   <span class="n">T1</span>   <span class="mi">0</span>   <span class="n">T2</span>   <span class="mi">0</span>   <span class="n">PLANE</span>   <span class="mi">16</span>   <span class="n">SEED</span>   <span class="mf">1.</span>  <span class="mf">0.</span>  <span class="mf">0.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MOM</span>   <span class="n">SURFACE</span>   <span class="mi">5</span>   <span class="n">VELO_NORMAL</span> <span class="mi">5</span>   <span class="n">T1</span>  <span class="mi">0</span>  <span class="n">T2</span>   <span class="mi">0</span>   <span class="n">BASIS</span>
</pre></div>
</div>
<p>The first example applies to the mesh equations at side set 99, the second to mesh equations at side set 16, and the third to the fluid momentum equations at side set 5. As described previously, the &lt;string_x&gt;, &lt;string_y&gt; and &lt;string_z&gt; parameters can be any boundary condition name or rotation string. Thus for the first example above, the x-component of the mesh equation is replaced by a KINEMATIC boundary condition on side set 99, the y-component of the mesh equation is replaced by the second tangential component (T2) of the mesh equation, and the z-component of the mesh equation is replaced by the first tangential component (T1) of the mesh equation. Since the rotation selections in the first example (T2 and T1) are rotated components instead of boundary conditions, a value of zero for the &lt;int_y&gt; and &lt;int_z&gt; parameters is appropriate. Finally, for the first example, BASIS_RESEED was chosen as the {seed_method}, and thus no subsequent parameters were required. The second example, however, uses SEED as the {seed_method} and thus is followed by the x, y, and z components of the tangent vector, respectively, as &lt;float1&gt; of 1., &lt;float2&gt; of 0., and &lt;float3&gt; of 0.</p>
</section>
<section id="id4">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<p>The necessary background discussing the nature and need for rotation procedures and rotation specifications is supplied in several of the references listed below. Briefly, however, in order to apply certain boundary conditions accurately it is necessary that the vector components of the solid mesh or fluid momentum equations be replaced by components that are tangent and normal to the surface in question. This procedure is referred to in this context as “rotation of equations.” It should be noted that explicitly specifying rotation conditions is really only necessary for three dimensional problems. Rotation also occurs in two-dimensional problems, but is sufficiently simpler that it can be automated and is therefore transparent to the user.</p>
<p>Not every boundary condition needs an accompanying rotation specification card and those that do are identified in the description of each boundary condition. Each rotated boundary condition will require at least one SURFACE rotation card be included for the boundary condition’s side set. Failure to do so is an error. The boundary conditions most often encountered that will require rotation cards are the <em>VELO_NORMAL</em> card applied to the fluid momentum equations and the <em>KINEMATIC, PLANE</em>, and <em>SPLINE</em> cards applied to the solid mesh equations.</p>
<p>In almost every case the boundary condition constraint will replace the normal rotated component so only the two tangential components of the rotated equation remain. All three examples shown above are just this situation. This has the effect of constraining the normal motion of the solid or fluid and imposing zero tangential forces due to the natural boundary conditions present in both fluid and solid momentum equations.</p>
<p>Specification of a seed vector method is needed so that a unique pair of tangent vectors may be determined at each point on the surface. The BASIS, BASIS_FIRST and BASIS_RESEED use the finite element grid in the surface as a means of defining the first tangent vector. They can employ averaging over elements that share a node. They should be employed on surfaces for which it is difficult to find a single consistent seed vector for every point on the surface. The SEED method finds the projection of the vector supplied in the surface at the point of interest. This projection vector is normalized to obtain the first tangent vector. It should be clear that only vectors that are never normal to any point on the surface will be suitable. In practice, this condition can sometimes be hard to meet for some surfaces. In these cases, the other seeding methods should be used.</p>
</section>
<section id="id5">
<h3><strong>References</strong><a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<p>GT-007.2: Tutorial on droplet on incline problem, July 30, 1999, T. A. Baer</p>
<p>GT-012.0: 3D Roll coating template and tutorial for GOMA, February 21, 2000, P.R. Schunk</p>
<p>GT-018.1: ROT card tutorial, January 22, 2001, T. A. Baer</p>
</section>
</section>
<section id="rot-edge">
<h2><strong>ROT EDGE</strong><a class="headerlink" href="#rot-edge" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">ROT</span> <span class="o">=</span> <span class="p">{</span><span class="n">MESH</span> <span class="o">|</span> <span class="n">MOM</span><span class="p">}</span> <span class="n">EDGE</span> <span class="o">&lt;</span><span class="n">bc_id1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">bc_id2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_y</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">int_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_z</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">seed_method</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float3</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id6">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<p>This rotation specification card deals with rotation specification along edges. In this context, an edge is the intersection of two side sets. It identifies the boundary conditions that will be applied at nodes on that edge and which equation components are to be associated with them. It also identifies which components of the rotated equations will be used. Currently, only rotation of mesh and momentum equations is allowed on edges. This card can also be used for specifying a seed vector if needed.</p>
<p>Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>{MESH | MOM}</strong></p></td>
<td><p>Equation type to which this rotation condition
applies:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>MESH</strong> - Applies to mesh equations.</p></li>
<li><p><strong>MOM</strong> - Applies to fluid momentum equations.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>EDGE</strong></p></td>
<td><p>Type of rotation specification.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id1&gt;</p></td>
<td><p>Side set ID number of the primary side set.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;bc_id2&gt;</p></td>
<td><p>Side set ID number of the secondary side set.</p></td>
</tr>
</tbody>
</table>
<p>The edge is defined as the intersection of the primary and secondary side sets.</p>
<p>The next six parameters dictate how the x, y, and z components of the vector equation are replaced by boundary conditions or rotated components using pairs of specifiers, e.g., &lt;string_x&gt; and &lt;int_x&gt; for the x-component of the equation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;string_x&gt;</p></td>
<td><p>A character string that specifies what will replace the
x-component of the vector equation (MESH or
MOMENTUM). This string may be the name of a
boundary condition already specified in the boundary
condition specification section or one of the rotation
strings listed in Table 3 (Valid EDGE Tangent Equation
Rotation Strings).</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_x&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_x&gt; is a boundary condition name, then
&lt;int_x&gt; is the side set or node set designation
to which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_x&gt; is a rotation string from Table 3,
&lt;int_x&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_y&gt;</p></td>
<td><p>A character string that specifies what will replace the
y-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 3.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_y&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_y&gt; is a boundary condition name, then
&lt;int_y&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_y&gt; is a rotation string from Table 3,
&lt;int_y&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_z&gt;</p></td>
<td><p>A character string that specifies what will replace the
z-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 3.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_z&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_z&gt; is a boundary condition name, then
&lt;int_z&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_z&gt; is a rotation string from Table 3,
&lt;int_z&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p><strong>Table 3. Valid EDGE Tangent Equation Rotation Strings</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>{string_x|y|z}</strong></p></th>
<th class="head"><p><strong>Description of Equation Rotation Selections</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>NONE, NA,</strong> or <strong>NO</strong></p></td>
<td><p>No rotation is performed for this equation component.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>N</strong></p></td>
<td><p>This equation component is replaced by the normal
component of the residual: n • R where n is the outwardpointing normal to &lt;bc_id1&gt;</p></td>
</tr>
<tr class="row-even"><td><p><strong>T</strong></p></td>
<td><p>This equation component is replaced by the tangential
component of the residual: T • R where the tangent is a line tangent along the edge defined by &lt;bc_id1&gt; and
&lt;bc_id2&gt;.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>B</strong></p></td>
<td><p>This equation component is replaced by the
outwardpointing binormal component of the residual:
B • R where the binormal is perpendicular to both the line tangent T and the outward-pointing normal to &lt;bc_id1&gt;.</p></td>
</tr>
<tr class="row-even"><td><p><strong>S</strong></p></td>
<td><p>The equation component is replaced by the projection
of the equations in the direction of the seed vector:
S • R</p></td>
</tr>
<tr class="row-odd"><td><p><strong>X</strong></p></td>
<td><p>This equation is replaced by the x-component of the
residual.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Y</strong></p></td>
<td><p>This equation is replaced by the y-component of the
residual.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Z</strong></p></td>
<td><p>This equation is replaced by the z-component of the
residual.</p></td>
</tr>
</tbody>
</table>
<p>In most cases, seeding of the tangent vectors is not needed along edges, although it is possible to specify a seed method as defined in the <em>ROT SURFACE</em> card via the parameters {seed_method}, &lt;float1&gt;, &lt;float2&gt;, and &lt;float3&gt;. Note also that a seed vector must be specified to use the S rotation option.</p>
</section>
<section id="id7">
<h3><strong>Examples</strong><a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<p>The following is an example of an edge rotation specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MESH</span>   <span class="n">EDGE</span> <span class="mi">4</span> <span class="mi">5</span>   <span class="n">PLANE</span>   <span class="mi">4</span>   <span class="n">PLANE</span> <span class="mi">5</span>   <span class="n">T</span>   <span class="mi">0</span>   <span class="n">NONE</span>
</pre></div>
</div>
<p>This card specifies rotation of the mesh equations along the edge of intersection of side sets 4 and 5. The x and y mesh equations are replaced by PLANE conditions on side sets 4 and 5, respectively. The z mesh equation is replaced by the mesh residuals rotated into the direction of the line tangent along the edge. This enables the mesh to slide freely (i.e., stress-free) along the edge.</p>
</section>
<section id="id8">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<ul>
<li><p>The direction of the line tangent is chosen such that the binormal
( b = n × t ) with <em>n</em>, the outward-pointing normal to the primary surface
&lt;bc_id1&gt;, is outwardpointing from the edge.</p></li>
<li><p>Along edges, two of the equations are normally replaced by boundary
conditions and one equation is replaced by this tangential component. However several options are available for replacing the mesh equations by other forms of the rotated equations as listed in Table 3. (Valid EDGE Tangent Equation Rotation Strings) above.</p></li>
<li><p>It is very rare to require a seed vector be specified on an edge. The
SEED vector choice is almost always NONE.</p></li>
<li><p>A precedence rule has been established for the case when more than one
<em>Rotation Specification</em> could be applied at a point. The rule is as follows:</p>
<p>The Rotation condition that will be applied is:</p>
<blockquote>
<div><p><em>A&gt;The first VERTEX condition in the input deck that could
apply. If there is no contravening VERTEX condition then,</em></p>
<p><em>B&gt;The first EDGE condition in the input deck that could
apply. If there is no contravening EDGE condition then,</em></p>
<p><em>C&gt;The first SURFACE condition that could apply.</em></p>
</div></blockquote>
</li>
<li><p>A very important restriction exists for EDGE and VERTEX rotation conditions. It is a necessary requirement that all elements that are present on an edge have only a single segment present on the edge curve. An element may therefore never contribute more than two corner vertex nodes to the set of nodes on an edge curve. If there are more than two such nodes for a given element, <em>Goma</em> will terminate with a <em>“Side not connected to edge”</em> error. If such a situation exists, the only solution is to remesh the geometry to eliminate such elements.</p></li>
</ul>
</section>
<section id="id9">
<h3><strong>References</strong><a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<p>GT-007.2: Tutorial on droplet on incline problem, July 30, 1999, T. A. Baer</p>
<p>GT-012.0: 3D Roll coating template and tutorial for GOMA, February 21, 2000, P.R. Schunk</p>
<p>GT-018.1: ROT card tutorial, January 22, 2001, T. A. Baer</p>
</section>
</section>
<section id="rot-vertex">
<h2><strong>ROT VERTEX</strong><a class="headerlink" href="#rot-vertex" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">ROT</span> <span class="o">=</span> <span class="p">{</span><span class="n">MESH</span> <span class="o">|</span> <span class="n">MOM</span><span class="p">}</span> <span class="n">VERTEX</span> <span class="o">&lt;</span><span class="n">bc_id1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">bc_id2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">bc_id3</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_x</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">int_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_z</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">seed_method</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float3</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id10">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<p>This rotation specification card deals with rotation specification at vertices. In this context, a vertex is the intersection point of three side sets. It identifies the boundary conditions that will be applied at the vertex node and which equation components are to be associated with them. It also identifies which components of the rotated equations will be used. Currently, only rotation of mesh and momentum equations is allowed at a vertex. This card can also be used for specifying a seed vector if needed.</p>
<p>Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>{MESH | MOM}</strong></p></td>
<td><p>Type of equation to which this specification
applies,where</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>MESH</strong> - Applies to mesh displacement
equations.</p></li>
<li><p><strong>MOM</strong> - Applies to fluid momentum equations.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>VERTEX</strong></p></td>
<td><p>Type of rotation specification.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id1&gt;</p></td>
<td><p>Side set ID number of the primary side set.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;bc_id2&gt;</p></td>
<td><p>Side set ID number of the secondary side set.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id3&gt;</p></td>
<td><p>Side set ID number of the tertiary side set.</p></td>
</tr>
</tbody>
</table>
<p>The vertex is defined as the point at the intersection of the primary, secondary, tertiary side set. Note that it is possible for these three side sets to intersect at more than one discrete point. The VERTEX condition is applied to all such points.</p>
<p>The next six parameters dictate how the x, y, and z components of the vector equation are replaced by boundary conditions or rotated components using pairs of specifiers, e.g., &lt;string_x&gt; and &lt;int_x&gt; for the x-component of the equation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;string_x&gt;</p></td>
<td><p>A character string that specifies what will replace the
x-component of the vector equation (MESH or
MOMENTUM). This string may be the name of a
boundary condition already specified in the boundary
condition specification section or one of the rotation
strings listed in Table 4 (Valid VERTEX Tangent
Equation Rotation Strings).</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_x&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_x&gt; is a boundary condition name, then
&lt;int_x&gt; is the side set or node set designation
to which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_x&gt; is a rotation string from Table 4,
&lt;int_x&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_y&gt;</p></td>
<td><p>A character string that specifies what will replace the
y-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 4.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_y&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_y&gt; is a boundary condition name, then
&lt;int_y&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_y&gt; is a rotation string from Table 4,
&lt;int_y&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_z&gt;</p></td>
<td><p>A character string that specifies what will replace the
z-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 4.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_z&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_z&gt; is a boundary condition name, then
&lt;int_z&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_z&gt; is a rotation string from Table 4,
&lt;int_z&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p><strong>Table 4. Valid VERTEX Tangent Equation Rotation Strings</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>{string_x|y|z}</strong></p></th>
<th class="head"><p><strong>Description of Equation Rotation Selections</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>NONE, NA,</strong> or <strong>NO</strong></p></td>
<td><p>No rotation is performed for this equation component.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>N</strong></p></td>
<td><p>This equation component is replaced by the normal
component of the residual: n • R where n is the outwardpointing normal to &lt;bc_id1&gt;</p></td>
</tr>
<tr class="row-even"><td><p><strong>T</strong></p></td>
<td><p>This equation component is replaced by the tangential
component of the residual: T • R where the tangent is a line tangent along the edge defined by &lt;bc_id1&gt; and
&lt;bc_id2&gt;.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>B</strong></p></td>
<td><p>This equation component is replaced by the
outwardpointing binormal component of the residual:
B • R where the binormal is perpendicular to both the line tangent T and the outward-pointing normal to &lt;bc_id1&gt;.</p></td>
</tr>
<tr class="row-even"><td><p><strong>S</strong></p></td>
<td><p>The equation component is replaced by the projection
of the equations in the direction of the seed vector:
S • R</p></td>
</tr>
<tr class="row-odd"><td><p><strong>X</strong></p></td>
<td><p>This equation is replaced by the x-component of the
residual.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Y</strong></p></td>
<td><p>This equation is replaced by the y-component of the
residual.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Z</strong></p></td>
<td><p>This equation is replaced by the z-component of the
residual.</p></td>
</tr>
</tbody>
</table>
<p>In most cases, seeding of the tangent vectors is not needed along vertices, although it is possible to specify a seed method as defined in the <em>ROT SURFACE</em> card via the parameters {seed_method}, &lt;float1&gt;, &lt;float2&gt;, and &lt;float3&gt;. Note also that a seed vector must be specified to use the S rotation option.</p>
</section>
<section id="id11">
<h3><strong>Examples</strong><a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<p>The following is an example of a vertex rotation specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MESH</span>   <span class="n">VERTEX</span>   <span class="mi">3</span> <span class="mi">4</span> <span class="mi">6</span>   <span class="n">PLANE</span>   <span class="mi">4</span> <span class="n">PLANE</span> <span class="mi">3</span>   <span class="n">PLANE</span>   <span class="mi">6</span>   <span class="n">NONE</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MESH</span>   <span class="n">VERTEX</span>   <span class="mi">5</span> <span class="mi">4</span> <span class="mi">6</span>   <span class="n">PLANE</span>   <span class="mi">4</span> <span class="n">KINEMATIC</span> <span class="mi">5</span>   <span class="n">PLANE</span>   <span class="mi">6</span>   <span class="n">NONE</span>
</pre></div>
</div>
<p>In the first example, the vertex is at the intersection of side sets 3, 4 and 6, and the three mesh equations at this vertex are replaced by <em>PLANE</em> conditions from side sets 4, 3, and 6, respectively. In the second example, the vertex is at the intersection of side sets 4, 5, and 6, respectively. Since it is conceivable that side set 5 might represent a free surface that curves in three dimensions, the last <em>VERTEX</em> card might apply to more than one point.</p>
</section>
<section id="id12">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<ul>
<li><p>Despite the fact that <em>VERTEX</em> cards apply only at single points,
definitions
of the normal, tangent and binormal vectors are still operative. The normal vector, <strong>N</strong>, is the outward-pointing normal to the primary side set, the tangent vector, <strong>T</strong>, is defined to lie along the curve defined by the intersection of the primary and secondary side set, and the binormal vector, <strong>B</strong>, is defined simply as the cross product of the normal vector with the tangent vector. Note that the sense of the tangent vector is chosen so that the binormal vector will always point outwards from the domain.</p></li>
<li><p>At a vertex, it is normally the case that all three rotated components will
be replaced by boundary conditions as suggested by the examples. However, it is not a rarity that a rotated component, usually <strong>N</strong> or <strong>T</strong>, will also appear.</p></li>
<li><p>The same hierarchy of precedence is used to determine which rotation
specification will be applied when more than one could apply to a node. The rule is as follows:</p>
<p>The Rotation condition that will be applied is:</p>
<blockquote>
<div><p><em>A&gt;The first VERTEX condition in the input deck that could
apply. If there is no contravening VERTEX condition then,</em></p>
<p><em>B&gt;The first EDGE condition in the input deck that could
apply. If there is no contravening EDGE condition then,</em></p>
<p><em>C&gt;The first SURFACE condition that could apply.</em></p>
</div></blockquote>
</li>
<li><p>Very often <em>VERTEX</em> cards are used to resolve ambiguities that arise at
points where multiple <em>SURFACE</em> or <em>EDGE</em> cards could apply.</p></li>
</ul>
</section>
<section id="id13">
<h3><strong>References</strong><a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<p>GT-007.2: Tutorial on droplet on incline problem, July 30, 1999, T. A. Baer</p>
<p>GT-012.0: 3D Roll coating template and tutorial for GOMA, February 21, 2000, P.R. Schunk</p>
<p>GT-018.1: ROT card tutorial, January 22, 2001, T. A. Baer</p>
</section>
</section>
<section id="end-of-rot">
<h2><strong>END OF ROT</strong><a class="headerlink" href="#end-of-rot" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">END</span> <span class="n">OF</span> <span class="n">ROT</span>
</pre></div>
</div>
<section id="id14">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<p>This card is used to end the section of rotation specifications in the input deck. Any ROT conditions listed after this card are ignored. It should always accompany the <em>“Rotation Specifications</em> =” card.</p>
</section>
<section id="id15">
<h3><strong>Examples</strong><a class="headerlink" href="#id15" title="Permalink to this headline"></a></h3>
<p>There are no input parameters for this card, which always appears as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">END</span> <span class="n">OF</span> <span class="n">ROT</span>
</pre></div>
</div>
</section>
<section id="id16">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id16" title="Permalink to this headline"></a></h3>
<p>No Discussion.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="boundary_conditions.html" class="btn btn-neutral float-left" title="Boundary Condition Specifications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="problem_description.html" class="btn btn-neutral float-right" title="Problem Description" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019 Goma Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>