
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Usage Notes on the GD Cards &#8212; Goma User Manual 7.0.0 documentation</title>
    
    <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/pydata-sphinx-theme.css" />
    
    <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../../index.html">
  <img src="../../../_static/goma.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../user_manual.html">
  Goma User Manual
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="usage-notes-on-the-gd-cards">
<h1>Usage Notes on the GD Cards<a class="headerlink" href="#usage-notes-on-the-gd-cards" title="Permalink to this headline">¶</a></h1>
<p>Following are several examples of uses of the Generalized Dirichlet conditions:</p>
<ul class="simple">
<li><p>For a circular boundary ( with radius 1, center at (0,0), <span class="math notranslate nohighlight">\(x^2 + y^2 = 1\)</span> ):</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_PARAB</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MESH2</span> <span class="mi">0</span> <span class="n">MESH_POSITION2</span>     <span class="mi">0</span>   <span class="o">-</span><span class="mf">1.</span>   <span class="mf">0.</span>   <span class="mf">1.</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_PARAB</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MESH2</span> <span class="mi">0</span> <span class="n">MESH_POSITION1</span>     <span class="mi">0</span>   <span class="o">-</span><span class="mf">0.</span>   <span class="mf">0.</span>   <span class="mf">1.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>For a planar boundary ( <span class="math notranslate nohighlight">\(2x + y = 1\)</span> )</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MESH1</span> <span class="mi">0</span> <span class="n">MESH_POSITION1</span>     <span class="mi">0</span>   <span class="o">-</span><span class="mf">1.</span>   <span class="mf">2.</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MESH1</span> <span class="mi">0</span> <span class="n">MESH_POSITION2</span>     <span class="mi">0</span>   <span class="mf">0.</span>   <span class="mf">1.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>For a parabolic inflow velocity profile ( <span class="math notranslate nohighlight">\(u = 1 – 2y – 3y^2\)</span> ):</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">4</span>   <span class="n">R_MOMENTUM1</span> <span class="mi">0</span> <span class="n">VELOCITY1</span>     <span class="mi">0</span>   <span class="mf">0.</span>   <span class="o">-</span><span class="mf">1.</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_PARAB</span> <span class="n">SS</span>   <span class="mi">4</span>   <span class="n">R_MOMENTUM1</span> <span class="mi">0</span> <span class="n">MESH_POSITION2</span>     <span class="mi">0</span>   <span class="mf">1.</span>   <span class="o">-</span><span class="mf">2.</span>   <span class="o">-</span><span class="mf">3.</span>
</pre></div>
</div>
<ul class="simple">
<li><p>For a distinguishing condition where the mesh is an iso-concentration surface (<span class="math notranslate nohighlight">\(C = 0.2\)</span> with
mesh equations rotated):</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_CONST</span> <span class="n">SS</span>   <span class="mi">2</span>   <span class="n">R_MESH_NORMAL</span> <span class="mi">0</span> <span class="n">MASS_FRACTION</span>     <span class="mi">0</span>   <span class="mf">0.</span>  <span class="mi">2</span>
</pre></div>
</div>
<ul class="simple">
<li><p>For a temperature boundary condition with APREPRO constants <span class="math notranslate nohighlight">\(C_i\)</span> of the form</p></li>
</ul>
<div class="math notranslate nohighlight">
\[T = C_1 + C_2x + C_3x^2 + C_4x^3 + C_5x^4 + C_6x^5 + C_7x^6\]</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">2</span>   <span class="n">R_ENERGY</span> <span class="mi">0</span> <span class="n">TEMPERATURE</span>     <span class="mi">0</span>   <span class="o">-</span><span class="mi">1</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_POLYN</span> <span class="n">SS</span>   <span class="mi">2</span>   <span class="n">R_ENERGY</span> <span class="mi">0</span> <span class="n">MESH_POSITION1</span>     <span class="mi">0</span>   <span class="p">{</span><span class="n">c1</span> <span class="n">c2</span> <span class="n">c3</span> <span class="n">c4</span> <span class="n">c5</span> <span class="n">c6</span> <span class="n">c7</span><span class="p">}</span>
</pre></div>
</div>
<p>Note, in the first three examples, two cards are combined to create a single boundary
condition that is a function of two variables. Thus, with a little creativity, the Generalized
Dirichlet conditions can replace many of the other boundary condition types.</p>
<p>To help generalize the Dirichlet conditions even more, GD_TIME can be used to modulate
any combination of spatial GD conditions (the CONST, LINEAR, PARAB,
POLYN, CIRC and TABLE options above) which appears prior to the set. Some examples
here are warranted:</p>
<ul class="simple">
<li><p>For a parabolic inflow velocity profile which is ramped from zero to a linearly growing multiplier times ( <span class="math notranslate nohighlight">\(u = 1 – 2y – 3y^2\)</span> ):</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_PARAB</span> <span class="n">SS</span>   <span class="mi">4</span>   <span class="n">R_MOMENTUM1</span> <span class="mi">0</span> <span class="n">MESH_POSITION2</span>     <span class="mi">0</span>   <span class="mf">1.</span>   <span class="o">-</span><span class="mf">2.</span>   <span class="o">-</span><span class="mf">3.</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_TIME</span> <span class="n">SS</span>   <span class="mi">4</span>   <span class="n">R_MOMENTUM1</span>   <span class="mi">0</span>   <span class="n">LINEAR</span>     <span class="mi">0</span>   <span class="mf">0.</span>   <span class="mf">1.</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">4</span>   <span class="n">R_MOMENTUM1</span>   <span class="mi">0</span>   <span class="n">VELOCITY1</span>      <span class="mi">0</span>   <span class="mf">0.</span>   <span class="o">-</span><span class="mf">1.</span>
</pre></div>
</div>
<p>(This set of 3 conditions actually applies <span class="math notranslate nohighlight">\(f(x, y, z, t, u) = 1t \left(1 – 2y – 3y^2 \right) – u = 0\)</span> in place of the x-momentum equation. )</p>
<ul class="simple">
<li><p>For a sinusoidally time-varying roller surface with equation <span class="math notranslate nohighlight">\((x – x_0)^2 + (y – y_0)^2 = {R_0}^2\)</span> with a frequency of 2. and a phase lag of 10:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_PARAB</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MESH_NORMAL</span>   <span class="mi">0</span>   <span class="n">MESH_POSITION2</span> <span class="mi">0</span> <span class="p">{</span><span class="n">x0</span><span class="o">*</span><span class="n">x0</span> <span class="o">+</span> <span class="n">y0</span><span class="o">*</span><span class="n">y0</span> <span class="o">-</span> <span class="n">R0</span><span class="o">*</span><span class="n">R0</span><span class="p">}</span> <span class="p">{</span><span class="o">-</span><span class="mf">2.</span><span class="o">*</span><span class="n">y0</span><span class="p">}</span> <span class="mi">1</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_PARAB</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MESH_NORMAL</span>   <span class="mi">0</span>   <span class="n">MESH_POSITION1</span>     <span class="mi">0</span> <span class="p">{</span><span class="mf">0.</span><span class="p">}</span>   <span class="p">{</span><span class="o">-</span><span class="mf">2.</span><span class="o">*</span><span class="n">x0</span><span class="p">}</span> <span class="mi">1</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_TIME</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MESH_NORMAL</span>   <span class="mi">0</span>   <span class="n">SINUSOIDAL</span>     <span class="mi">0</span>   <span class="mf">10.</span>   <span class="mf">2.</span>
</pre></div>
</div>
<p>This set of cards applies <span class="math notranslate nohighlight">\(f(x, y, z, t) (x – x_0)^2 + (y – y_0)^2 - \sin(2t + 10)
{R_0}^2 = 0\)</span> to the normal component of the mesh equations along side set 1.</p>
<ul class="simple">
<li><p>For a sinusoidally varying gap on a slot coater, the substrate has been made to oscillate according to <span class="math notranslate nohighlight">\(f(x, y, t) = y – 3 \sin(t/4 + 5) = 0\)</span> :</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">9</span>   <span class="n">R_MESH2</span>   <span class="mi">0</span>   <span class="n">MESH_POSITION1</span>     <span class="mi">0</span>   <span class="o">-</span><span class="mf">3.</span>  <span class="mi">0</span>   <span class="mf">0.</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_TIME</span> <span class="n">SS</span>   <span class="mi">9</span>   <span class="n">R_MESH2</span>   <span class="mi">0</span>   <span class="n">SINUSOIDAL</span>     <span class="mi">0</span>   <span class="mf">5.</span>   <span class="mf">0.25</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">9</span>   <span class="n">R_MESH2</span>   <span class="mi">0</span>   <span class="n">MESH_POSITION2</span>     <span class="mi">0</span>   <span class="mf">0.</span>   <span class="mf">1.0</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Setting the u-velocity on an inlet boundary for a power law fluid:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>BC = GD_LINEAR SS   1   R_MOMENTUM1   0   VELOCITY1     0   0.   -1.
BC = GD_TABLE SS   1   R_MOMENTUM1   0   MESH_POSITION2 0 1.0 LINEAR

$ r/R         Uz
0.000000      1.666667
0.050000      1.666458
0.100000      1.665000
0.150000      1.661042
0.200000      1.653333
0.250000      1.640625
0.300000      1.621667
.             .
.             .
.             .
0.900000      0.451667
0.950000      0.237708
1.000000      0.000000
END TABLE
</pre></div>
</div>
<ul class="simple">
<li><p>Setting the inlet concentration profile for species 0 from data in y0.table</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MASS</span>   <span class="mi">0</span>   <span class="n">MASS_FRACTION</span>     <span class="mi">0</span>   <span class="mf">0.0</span>   <span class="o">-</span><span class="mf">1.0</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_TABLE</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MASS</span>   <span class="mi">0</span>   <span class="n">MESH_POSITION2</span> <span class="mi">0</span> <span class="mf">1.0</span> <span class="n">LINEAR</span> <span class="n">FILE</span> <span class="o">=</span> <span class="n">y0</span><span class="o">.</span><span class="n">table</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Setting the inlet concentration profile for species 0 from an implicit relation.</p></li>
</ul>
<p>Occasionally, we have analytic representations that are in the wrong form. For example, in particulate
suspension modelling, a relation exists that gives the radial coordinate as a function of the concentration,
i.e. <span class="math notranslate nohighlight">\(r = F(C)\)</span>, where <span class="math notranslate nohighlight">\(F\)</span> is a non-linear relation. We would prefer it the other way around.
We can use GD_TABLE to solve this dilemma. First, a file is prepared with the two columns,
eqn.table for example:</p>
<table class="table">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>C_0</p></td>
<td><p>F(C_0)</p></td>
</tr>
<tr class="row-even"><td><p>C_1</p></td>
<td><p>F(C_1)</p></td>
</tr>
<tr class="row-odd"><td><p>.</p></td>
<td><p>.</p></td>
</tr>
<tr class="row-even"><td><p>.</p></td>
<td><p>.</p></td>
</tr>
<tr class="row-odd"><td><p>C_N</p></td>
<td><p>F(C_N)</p></td>
</tr>
</tbody>
</table>
<p>This just requires function evaluation. In the input deck, we then use the following cards</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">GD_LINEAR</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MASS</span>   <span class="mi">0</span>   <span class="n">MESH_POSITION2</span>     <span class="mi">0</span>   <span class="mf">0.0</span>   <span class="o">-</span><span class="mf">1.0</span>
<span class="n">BC</span> <span class="o">=</span> <span class="n">GD_TABLE</span> <span class="n">SS</span>   <span class="mi">1</span>   <span class="n">R_MASS</span>   <span class="mi">0</span>   <span class="n">MASS_FRACTION</span> <span class="mi">0</span> <span class="mf">1.0</span> <span class="n">LINEAR</span> <span class="n">FILE</span> <span class="o">=</span> <span class="n">eqn</span><span class="o">.</span><span class="n">table</span>
</pre></div>
</div>
<p>and the right inlet concentration profile results.</p>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2019 Goma Developers.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>