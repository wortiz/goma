<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Category 7: Continuity Equation &mdash; Goma User Manual 6.1.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Goma User Manual
            <img src="../../_static/goma.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../background.html">Background Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_structure_and_io.html">Code Structure and I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../problem_description_file.html">Problem Description (Input File)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../material_files.html">Material Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_lists.html">Appendix 1: Goma Documentation Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../library_mode.html">Appendix 2: Using Goma in Library Mode</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Goma User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Category 7: Continuity Equation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/problem_description_file/boundary_conditions/continuity.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="category-7-continuity-equation">
<h1>Category 7: Continuity Equation<a class="headerlink" href="#category-7-continuity-equation" title="Permalink to this headline"></a></h1>
<p>The continuity equation rarely requires a boundary condition as it represents an overall mass
balance constraint on the velocity field for the fluid, viz. normally it is used to enforce
incompressibility. Boundary conditions for pressure are most often put on the fluid-momentum
equations as a part of the stress condition at an inflow or outflow plane (see for example boundary
condition cards <em>FLOW_PRESSURE, FLOW_HYDROSTATIC</em>, etc. ). On occasion, however, we
can use a pressure condition as a pressure datum, as the Dirichlet pressure condition below
allows, though the user must keep in mind that it is a condition on continuity and not momentum.
When using pressure stabilization, viz. PSPG techniques, then also there is an occasional need for
a boundary condition on this equation.</p>
<section id="p">
<h2><strong>P</strong><a class="headerlink" href="#p" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">P</span> <span class="n">NS</span> <span class="o">&lt;</span><span class="n">bc_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">float2</span><span class="p">]</span>
</pre></div>
</div>
<section id="description-usage">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#description-usage" title="Permalink to this headline"></a></h3>
<p><strong>(DC/CONTINUITY)</strong></p>
<p>This Dirichlet boundary condition specification is used to set a constant pressure on a
node set. It is generally used for specifying a pressure datum on a single-node node set.
The pressure datum is useful for setting the absolute value of the pressure, which, for
many problems, is indeterminate to a constant. Pressure datums are especially
important for closed flow problems, such as the lid driven cavity, where there is no
inflow or outflow. Mass conservation problems can arise if this card is used to specify
the pressure along a group of nodes, since this equation replaces the continuity
equation. To specify pressure for a group of nodes, it is preferable to use the flow
pressure boundary condition, which is applied in a weak sense to the momentum
equation and does not cause mass conservation problems. Definitions of the input
parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>P</strong></p></td>
<td><p>One-character boundary condition name (&lt;bc_name&gt;) that
defines the pressure.</p></td>
</tr>
<tr class="row-even"><td><p><strong>NS</strong></p></td>
<td><p>Type of boundary condition (&lt;bc_type&gt;), where <strong>NS</strong> denotes
side set in the EXODUS II database.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id&gt;</p></td>
<td><p>The boundary flag identifier, an integer associated with
&lt;bc_type&gt; that identifies the boundary location (node set in
EXODUS II) in the problem domain.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;float1&gt;</p></td>
<td><p>Value of pressure.</p></td>
</tr>
<tr class="row-odd"><td><p>[float2]</p></td>
<td><p>An optional parameter (that serves as a flag to the code for a
Dirichlet boundary condition). If a value is present, and is
not -1.0, the condition is applied as a residual equation.
Otherwise, it is a “hard set” condition and is eliminated
from the matrix. <em>The residual method must be used when
this Dirichlet boundary condition is used as a parameter in
automatic continuation sequences</em>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="examples">
<h3><strong>Examples</strong><a class="headerlink" href="#examples" title="Permalink to this headline"></a></h3>
<p>The following are sample cards for specifying a pressure Dirichlet card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">P</span> <span class="n">NS</span> <span class="mi">7</span>   <span class="mf">0.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">P</span> <span class="n">NS</span> <span class="mi">7</span>   <span class="mf">0.</span> <span class="mf">1.0</span>
</pre></div>
</div>
<p>where the second form is an example using the “residual” method for applying the
same Dirichlet condition.</p>
</section>
<section id="technical-discussion">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#technical-discussion" title="Permalink to this headline"></a></h3>
<p>See the technical discussion for the <em>UVW</em> velocity for a discussion of the two ways of
applying Dirichlet boundary conditions.</p>
</section>
</section>
<section id="pspg">
<h2><strong>PSPG</strong><a class="headerlink" href="#pspg" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">PSPG</span> <span class="n">SS</span> <span class="o">&lt;</span><span class="n">bc_id</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id1">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<p><strong>(WIC/CONTINUITY)</strong></p>
<p>This special type of boundary condition exists for pressure-stabilized incompressible
flow simulations only. This card should be used only if the value of the <em>Pressure
Stabilization</em> card has been set to <em>yes</em>. In conjunction with this feature, equal-order
interpolation should be used for the velocity and pressure. If <em>PSPG</em> is used, a boundary
integral will be added to the continuity equation to represent the gradients of velocity in the momentum residual, which has been added onto the continuity equation for
stabilization. This term is only needed on inflow and outflow boundaries; in the rest of
the domain, it cancels out. For more details about the derivation of this term, see the
paper by Droux and Hughes (1994).</p>
<p>This boundary condition card requires no integer or floating point constants.
Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>PSPG</strong></p></td>
<td><p>Name of the boundary condition (&lt;bc_name&gt;).</p></td>
</tr>
<tr class="row-even"><td><p><strong>SS</strong></p></td>
<td><p>Type of boundary condition (&lt;bc_type&gt;), where SS denotes
side set in the EXODUS II database.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id&gt;</p></td>
<td><p>The boundary flag identifier, an integer associated with
&lt;bc_type&gt; that identifies the boundary location (side set in
EXODUS II) in the problem domain.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id2">
<h3><strong>Examples</strong><a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<p>The following is an example of using this card on both the inflow and outflow planes of
the domain.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">PSPG</span>   <span class="n">SS</span>   <span class="mi">40</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BC</span> <span class="o">=</span> <span class="n">PSPG</span>   <span class="n">SS</span>   <span class="mi">20</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<p>Please see Rao (1996) memo for a more detailed discussion of pressure stabilization
and its implementation in <em>Goma</em>.</p>
</section>
<section id="references">
<h3><strong>References</strong><a class="headerlink" href="#references" title="Permalink to this headline"></a></h3>
<p>GTM-001.0: Pressure Stabilization in Goma using Galerkin Least Squares, July 17,
1996, R. R. Rao</p>
<p>Droux, J. J. and T. J. R. Hughes, “A Boundary Integral Modification of the Galerkin
Least Squares Formulation for the Stokes Problem, ” Comput. Methods Appl. Mech.
Engrg., 113 (1994) 173-182.</p>
</section>
</section>
<section id="pressure-datum">
<h2><strong>PRESSURE DATUM</strong><a class="headerlink" href="#pressure-datum" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PRESSURE</span> <span class="n">DATUM</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id4">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<p>This card is used to set a hydrodynamic pressure datum on fluid mechanics problems
that contain no implicit or explicit boundary conditions on stress or pressure.
Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;integer&gt;</p></td>
<td><p>Element number on which the datum is set. This number
should correspond to that shown when viewing the mesh,
less one, as the numbering convention in the C language
starts at zero rather than at one.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;float&gt;</p></td>
<td><p>Value of the hydrodynamic pressure datum.</p></td>
</tr>
</tbody>
</table>
<p>Noteworthy is that this card is optional, and if used, is placed outside the BC section
and just below it.</p>
</section>
<section id="id5">
<h3><strong>Examples</strong><a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PRESSURE</span> <span class="n">DATUM</span> <span class="o">=</span> <span class="mi">10</span> <span class="mf">1.</span>
</pre></div>
</div>
</section>
<section id="id6">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<p>No Discussion.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019 Goma Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>