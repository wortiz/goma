<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROT SURFACE &mdash; Goma User Manual 6.1.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> Goma User Manual
            <img src="../../_static/goma.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../background.html">Background Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../code_structure_and_io.html">Code Structure and I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../problem_description_file.html">Problem Description (Input File)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../material_files.html">Material Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_lists.html">Appendix 1: Goma Documentation Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../library_mode.html">Appendix 2: Using Goma in Library Mode</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Goma User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><strong>ROT SURFACE</strong></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/problem_description_file/rotation/rot_surface.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rot-surface">
<h1><strong>ROT SURFACE</strong><a class="headerlink" href="#rot-surface" title="Permalink to this headline"></a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">ROT</span> <span class="o">=</span> <span class="p">{</span><span class="n">MESH</span> <span class="o">|</span> <span class="n">MOM</span><span class="p">}</span> <span class="n">SURFACE</span> <span class="o">&lt;</span><span class="n">bc_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_y</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">int_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">string_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">int_z</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">seed_method</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float3</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="description-usage">
<h2><strong>Description / Usage</strong><a class="headerlink" href="#description-usage" title="Permalink to this headline"></a></h2>
<p>This rotation specification card identifies a specific surface that requires rotation of equations for proper application of boundary conditions in three dimensional problems. It identifies the boundary conditions that are to be applied on that surface. It also identifies which equation components are to be replaced by boundary conditions, which are to be replaced by rotated equation components, and which are to be left alone. Equation components refer, currently, to only rotation of mesh and momentum equations. This card also identifies the manner in which two independent tangent vectors are to be determined on the surface.</p>
<p>Definitions of the first three input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>{MESH | MOM}</strong></p></td>
<td><p>Equation type (&lt;eq_type&gt;) to which this rotation
condition applies:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>MESH</strong> - Applies to mesh equations.</p></li>
<li><p><strong>MOM</strong> - Applies to fluid momentum equations.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>SURFACE</strong></p></td>
<td><p>Type of rotation specification.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;bc_id&gt;</p></td>
<td><p>An integer identifying the side set designation
of the surface to which this rotation condition
applies.</p></td>
</tr>
</tbody>
</table>
<p>The next six parameters dictate how the x, y, and z components of the vector equation are replaced by boundary conditions or rotated equations using pairs of specifiers, e.g., &lt;string_x&gt; and &lt;int_x&gt; for the x-component of the equation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;string_x&gt;</p></td>
<td><p>A character string that specifies what will replace the
x-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 1 (Valid Equation Rotation Strings).</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_x&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_x&gt; is a boundary condition name, then
&lt;int_x&gt; is the side set or node set designation
to which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_x&gt; is a rotation string from Table 1,
&lt;int_x&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_y&gt;</p></td>
<td><p>A character string that specifies what will replace the
y-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 1.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_y&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_y&gt; is a boundary condition name, then
&lt;int_y&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_y&gt; is a rotation string from Table 1,
&lt;int_y&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>&lt;string_z&gt;</p></td>
<td><p>A character string that specifies what will replace the
z-component of the vector equation (MESH or MOMENTUM).
This string may be the name of a boundary condition
already specified in the boundary condition
specification section or one of the rotation strings
listed in Table 1.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;int_z&gt;</p></td>
<td><p>This is an integer parameter specified as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>If &lt;string_z&gt; is a boundary condition name, then
&lt;int_z&gt; is the side set or node set designation to
which the appropriate boundary condition applies.
This provides a means of distinguishing between
boundary conditions possessing the same string name
but applied to different side sets or node sets.</p></li>
<li><p>If &lt;string_z&gt; is a rotation string from Table 1,
&lt;int_z&gt; should be specified as 0.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p><strong>Table 1. Valid Equation Rotation Strings</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>{string_x|y|z}</strong></p></th>
<th class="head"><p><strong>Description of Equation Rotation Selections</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>NONE, NA,</strong> or <strong>NO</strong></p></td>
<td><p>No rotation is performed for this equation component.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>N</strong></p></td>
<td><p>This equation component is replaced by normal
component of the residual tn • R</p></td>
</tr>
<tr class="row-even"><td><p><strong>T</strong></p></td>
<td><p>This equation component is replaced by the tangential
component of the residual: t • R (EDGE and VERTEX only)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>T1</strong></p></td>
<td><p>This equation component is replaced by the first
tangential component of the residual: T1 • R</p></td>
</tr>
<tr class="row-even"><td><p><strong>T2</strong></p></td>
<td><p>This equation component is replaced by the second
tangential component of the residual: T2 • R</p></td>
</tr>
<tr class="row-odd"><td><p><strong>X</strong></p></td>
<td><p>This equation is replaced by the x-component of the
residual.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Y</strong></p></td>
<td><p>This equation is replaced by the y-component of the
residual.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Z</strong></p></td>
<td><p>This equation is replaced by the z-component of the
residual.</p></td>
</tr>
<tr class="row-even"><td><p><strong>S</strong></p></td>
<td><p>The equation component is replaced by the projection
of the equations in the direction of the seed vector:
S • R</p></td>
</tr>
<tr class="row-odd"><td><p><strong>B</strong></p></td>
<td><p>The equation component is replaced by the projection
of the equations in the direction of the binormal vector.</p></td>
</tr>
</tbody>
</table>
<p>In most cases, only one of the three equations on a surface will be replaced by boundary conditions, and the remaining two equations will be rotated in the two tangent directions. Such a form constrains the normal motion of the solid or fluid while allowing tangential motions to occur stress-free.</p>
<p>The last four parameters in the card specify how to calculate the tangent vectors on the surface. In 3D, an infinite number of equally valid tangent pairs exist, so this card enables specifying how to choose those pairs. More specifically it identifies how to identify the first tangent vector (T1) since the second tangent vector is always be obtained via the cross product of the normal vector with the first tangent vector (T1).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>{seed_method}</p></td>
<td><p>A character string that defines the method of tangent
calculation. Valid options are listed in the Surface
Tangent Calculation Method (Table 2).</p></td>
</tr>
<tr class="row-even"><td><p>&lt;float1&gt;</p></td>
<td><p>x-component of the seed vector, s. This parameter is
only needed if {seed_method} is <strong>SEED</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;float2&gt;</p></td>
<td><p>y-component of the seed vector, s. This parameter is
only needed if {seed_method} is <strong>SEED</strong>.</p></td>
</tr>
<tr class="row-even"><td><p>&lt;float3&gt;</p></td>
<td><p>z-component of the seed vector, s. This parameter is
only needed if {seed_method} is <strong>SEED</strong>.</p></td>
</tr>
</tbody>
</table>
<p>Note that the seed vector specified does not have to be a unit vector.</p>
<p><strong>Table 2. Surface Tangent Calculation Method</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>{seed_method}</strong></p></th>
<th class="head"><p><strong>Description of Tangent Calculation Methods</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>NONE</strong></p></td>
<td><p>Tangent vectors should not be calculated. This is the
usual choice for EDGE and VERTEX rotation types.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>SEED</strong></p></td>
<td><p>The first tangent vector (T1) is calculated from a
surface projection of a seed vector, s: T1 = (I – nn) • s</p></td>
</tr>
<tr class="row-even"><td><p><strong>BASIS</strong></p></td>
<td><p>The first tangent is the direction of the first basis
vector in the surface using a weighted average for adjacent elements.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>BASIS_FIRST</strong></p></td>
<td><p>The first tangent is the direction of the first
finite element basis vector in the first element containing a given node.</p></td>
</tr>
<tr class="row-even"><td><p><strong>BASIS_RESEED</strong></p></td>
<td><p>The tangent resulting from BASIS_FIRST is used to
reseed tangent calculation in the adjacent elements.
(This method is the most reliable.)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="examples">
<h2><strong>Examples</strong><a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<p>The following are several examples of useful rotation specifications for surfaces:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MESH</span>   <span class="n">SURFACE</span>   <span class="mi">99</span>   <span class="n">KINEMATIC</span>   <span class="mi">99</span>   <span class="n">T2</span>   <span class="mi">0</span>   <span class="n">T1</span>   <span class="mi">0</span>   <span class="n">BASIS_RESEED</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MESH</span>   <span class="n">SURFACE</span>   <span class="mi">16</span>   <span class="n">T1</span>   <span class="mi">0</span>   <span class="n">T2</span>   <span class="mi">0</span>   <span class="n">PLANE</span>   <span class="mi">16</span>   <span class="n">SEED</span>   <span class="mf">1.</span>  <span class="mf">0.</span>  <span class="mf">0.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROT</span> <span class="o">=</span> <span class="n">MOM</span>   <span class="n">SURFACE</span>   <span class="mi">5</span>   <span class="n">VELO_NORMAL</span> <span class="mi">5</span>   <span class="n">T1</span>  <span class="mi">0</span>  <span class="n">T2</span>   <span class="mi">0</span>   <span class="n">BASIS</span>
</pre></div>
</div>
<p>The first example applies to the mesh equations at side set 99, the second to mesh equations at side set 16, and the third to the fluid momentum equations at side set 5. As described previously, the &lt;string_x&gt;, &lt;string_y&gt; and &lt;string_z&gt; parameters can be any boundary condition name or rotation string. Thus for the first example above, the x-component of the mesh equation is replaced by a KINEMATIC boundary condition on side set 99, the y-component of the mesh equation is replaced by the second tangential component (T2) of the mesh equation, and the z-component of the mesh equation is replaced by the first tangential component (T1) of the mesh equation. Since the rotation selections in the first example (T2 and T1) are rotated components instead of boundary conditions, a value of zero for the &lt;int_y&gt; and &lt;int_z&gt; parameters is appropriate. Finally, for the first example, BASIS_RESEED was chosen as the {seed_method}, and thus no subsequent parameters were required. The second example, however, uses SEED as the {seed_method} and thus is followed by the x, y, and z components of the tangent vector, respectively, as &lt;float1&gt; of 1., &lt;float2&gt; of 0., and &lt;float3&gt; of 0.</p>
</section>
<section id="technical-discussion">
<h2><strong>Technical Discussion</strong><a class="headerlink" href="#technical-discussion" title="Permalink to this headline"></a></h2>
<p>The necessary background discussing the nature and need for rotation procedures and rotation specifications is supplied in several of the references listed below. Briefly, however, in order to apply certain boundary conditions accurately it is necessary that the vector components of the solid mesh or fluid momentum equations be replaced by components that are tangent and normal to the surface in question. This procedure is referred to in this context as “rotation of equations.” It should be noted that explicitly specifying rotation conditions is really only necessary for three dimensional problems. Rotation also occurs in two-dimensional problems, but is sufficiently simpler that it can be automated and is therefore transparent to the user.</p>
<p>Not every boundary condition needs an accompanying rotation specification card and those that do are identified in the description of each boundary condition. Each rotated boundary condition will require at least one SURFACE rotation card be included for the boundary condition’s side set. Failure to do so is an error. The boundary conditions most often encountered that will require rotation cards are the <em>VELO_NORMAL</em> card applied to the fluid momentum equations and the <em>KINEMATIC, PLANE</em>, and <em>SPLINE</em> cards applied to the solid mesh equations.</p>
<p>In almost every case the boundary condition constraint will replace the normal rotated component so only the two tangential components of the rotated equation remain. All three examples shown above are just this situation. This has the effect of constraining the normal motion of the solid or fluid and imposing zero tangential forces due to the natural boundary conditions present in both fluid and solid momentum equations.</p>
<p>Specification of a seed vector method is needed so that a unique pair of tangent vectors may be determined at each point on the surface. The BASIS, BASIS_FIRST and BASIS_RESEED use the finite element grid in the surface as a means of defining the first tangent vector. They can employ averaging over elements that share a node. They should be employed on surfaces for which it is difficult to find a single consistent seed vector for every point on the surface. The SEED method finds the projection of the vector supplied in the surface at the point of interest. This projection vector is normalized to obtain the first tangent vector. It should be clear that only vectors that are never normal to any point on the surface will be suitable. In practice, this condition can sometimes be hard to meet for some surfaces. In these cases, the other seeding methods should be used.</p>
</section>
<section id="references">
<h2><strong>References</strong><a class="headerlink" href="#references" title="Permalink to this headline"></a></h2>
<p>GT-007.2: Tutorial on droplet on incline problem, July 30, 1999, T. A. Baer</p>
<p>GT-012.0: 3D Roll coating template and tutorial for GOMA, February 21, 2000, P.R. Schunk</p>
<p>GT-018.1: ROT card tutorial, January 22, 2001, T. A. Baer</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019 Goma Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>