<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Time Integration Specifications &mdash; Goma User Manual 6.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Level Set Specifications" href="level_set.html" />
    <link rel="prev" title="General Specifications" href="general_specifications.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Goma User Manual
            <img src="../_static/goma.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_structure_and_io.html">Code Structure and I/O</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../problem_description_file.html">Problem Description (Input File)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="file_specifications.html">File Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="general_specifications.html">General Specifications</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Time Integration Specifications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#time-integration">Time Integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description-usage">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#delta-t">delta_t</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#maximum-number-of-time-steps">Maximum Number of Time Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#maximum-time">Maximum Time</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#minimum-time-step">Minimum Time Step</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#technical-discussion">Technical Discussion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#maximum-time-step">Maximum Time Step</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Technical Discussion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#minimum-resolved-time-step">Minimum Resolved Time Step</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id13">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">Technical Discussion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#courant-number-limit">Courant Number Limit</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id15">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">Technical Discussion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#theory">Theory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#time-step-parameter">Time Step Parameter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id19">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21">Technical Discussion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#faqs">FAQs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id22">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#time-step-error">Time Step Error</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id23">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id26">Technical Discussion</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#printing-frequency">Printing Frequency</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id27">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fix-frequency">Fix Frequency</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id29">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id30">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#second-frequency-time">Second Frequency Time</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id31">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id32">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#initial-time">Initial Time</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id33">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id34">Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="level_set.html">Level Set Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="phase_field.html">Phase Field Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="continuation.html">Continuation Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="hunting.html">Hunting Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="augmenting_conditions.html">Augmenting Conditions Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="solver_specifications.html">Solver Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="eigensolver.html">Eigensolver Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="boundary_conditions.html">Boundary Condition Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotation.html">Rotation Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="problem_description.html">Problem Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing.html">Post Processing Specifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_fluxes.html">Post Processing Fluxes and Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_particle.html">Post Processing Particle Traces</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_volume.html">Volumetric Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../material_files.html">Material Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation_lists.html">Appendix 1: Goma Documentation Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_mode.html">Appendix 2: Using Goma in Library Mode</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Goma User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../problem_description_file.html">Problem Description (Input File)</a> &raquo;</li>
      <li>Time Integration Specifications</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/problem_description_file/time_integration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="time-integration-specifications">
<h1>Time Integration Specifications<a class="headerlink" href="#time-integration-specifications" title="Permalink to this headline"></a></h1>
<p>The first card in this section dictates whether the problem is a steady state or transient simulation.
This card is required. If the <em>steady state</em> option is chosen, then the remaining input records are not
required, as the rest of the records are used to set parameters for transient simulations, e.g., time
step size, time step error control, etc. Some records are optional even for a transient simulation, as
indicated below. It should be noted that the mass-matrix term multiplier in the <em>Problem
Description section</em> (see, for example, the <em>EQ=</em> cards), must be set to one (1) for the transient run
to evolve the fields in time. The only equations that are taken as purely quasi static are the
<em>EQ=mesh</em> equations for the situation in which the <em>Mesh Motion</em> type is <em>Arbitrary</em>.</p>
<p>In addition to the transient parameter information, some Level-Set function information is also
supplied to <em>Goma</em> in this section. The method of Level-Sets is used to track fluid-fluid or fluidsolid
interfaces in an Eulerian fashion, making the problem inherently transient.</p>
<section id="time-integration">
<h2>Time Integration<a class="headerlink" href="#time-integration" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">integration</span> <span class="o">=</span> <span class="p">{</span><span class="n">steady</span> <span class="o">|</span> <span class="n">transient</span><span class="p">}</span>
</pre></div>
</div>
<section id="description-usage">
<h3>Description / Usage<a class="headerlink" href="#description-usage" title="Permalink to this headline"></a></h3>
<p>This required card is used to specify transient or steady-state calculation. Valid options
are:</p>
<dl class="simple">
<dt>steady</dt><dd><p>For a solution to the steady (time-derivative free) equations.</p>
</dd>
<dt>transient</dt><dd><p>For transient simulations.</p>
</dd>
</dl>
<p>If option <strong>steady</strong> is chosen, then none of the other Time Integration Specification cards
in this section are needed.</p>
</section>
<section id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h3>
<p>This is a sample card for a steady state simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">integration</span> <span class="o">=</span> <span class="n">steady</span>
</pre></div>
</div>
<p>This is a sample card for a transient simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">integration</span> <span class="o">=</span> <span class="n">transient</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="delta-t">
<h2>delta_t<a class="headerlink" href="#delta-t" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">delta_t</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id1">
<h3>Description / Usage<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<p>This card is required for <strong>transient</strong> simulations to set the value of the initial time step.
The input parameter is defined as:</p>
<dl class="simple">
<dt>&lt;float&gt;</dt><dd><p>Any floating point number that indicates the time step in the appropriate
units for your problem.</p>
</dd>
</dl>
<p>To specify a fixed time step size for an analysis, set &lt;float&gt; to be a negative number,
e.g. -1.0e-6; the code will use a constant (positive) time step. Should convergence
problems occur when a fixed step size is specified, the size of the time increment
entered for the <em>delta_t</em> card will be reduced by half until convergence is achieved. Once
a constant time step is reduced, it will not be increased.</p>
</section>
<section id="id2">
<h3>Examples<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<p>Following is a sample card for an initial time step:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">delta_t</span> <span class="o">=</span> <span class="mf">6.e-03</span>
</pre></div>
</div>
<p>If a constant time step is desired, use a negative value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">delta_t</span> <span class="o">=</span> <span class="o">-</span><span class="mf">6.e-03</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="maximum-number-of-time-steps">
<h2>Maximum Number of Time Steps<a class="headerlink" href="#maximum-number-of-time-steps" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">time</span> <span class="n">steps</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id3">
<h3>Description / Usage<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<p>This card sets the maximum number of time steps that may be performed for a
<strong>transient</strong> simulation. <em>Goma</em> will stop if this limit is reached. The input parameter is
defined as</p>
<dl class="simple">
<dt>&lt;integer&gt;</dt><dd><p>Any integer greater than zero, which will limit the number of time steps
taken in a simulation.</p>
</dd>
</dl>
</section>
<section id="id4">
<h3>Examples<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<p>The following sample card sets the maximum number of time steps to 100:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maximum</span> <span class="n">number</span> <span class="n">of</span> <span class="n">time</span> <span class="n">steps</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="maximum-time">
<h2>Maximum Time<a class="headerlink" href="#maximum-time" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maximum</span> <span class="n">time</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id5">
<h3>Description / Usage<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<p>This card sets the maximum value of time that may be achieved in a <strong>transient</strong>
simulation. <em>Goma</em> will stop if this limit is reached. The input parameter is defined as:</p>
<dl class="simple">
<dt>&lt;float&gt;</dt><dd><p>Any floating point number in the same units as specified in the <em>delta_t</em>
card.</p>
</dd>
</dl>
<p>The last result written to the EXODUS II and soln.dat file in a successfully
completed simulation will always be at the maximum time. This provides a cutoff time
beyond which the simulation will terminate.</p>
</section>
<section id="id6">
<h3>Examples<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<p>The following sample card sets the maximum time to 105 (in units consistent with your
simulation):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maximum</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">105.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="minimum-time-step">
<h2>Minimum Time Step<a class="headerlink" href="#minimum-time-step" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Minimum</span> <span class="n">time</span> <span class="n">step</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id7">
<h3>Description / Usage<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<p>This card sets the value of the minimum allowable time step size in a <strong>transient</strong>
analysis, a useful control if the time step is being decreased due to poor convergence of
the transient or iterative algorithm. The input parameter is defined as</p>
<dl class="simple">
<dt>&lt;float&gt;</dt><dd><p>Any floating point number in the same units as specified in the <em>delta_t</em>
card.</p>
</dd>
</dl>
</section>
<section id="id8">
<h3>Examples<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<p>A sample card that sets the minimum time step to 1.e-9 follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Minimum</span> <span class="n">time</span> <span class="n">step</span> <span class="o">=</span> <span class="mf">1.e-9</span>
</pre></div>
</div>
</section>
<section id="technical-discussion">
<h3>Technical Discussion<a class="headerlink" href="#technical-discussion" title="Permalink to this headline"></a></h3>
<p>This specification provides a graceful way for the program to terminate based on the
computed time step dropping below the minimum value rather than terminating by a
segmentation fault or a divide-by-zero error that could result if the time step becomes
too small without the benefit of this control.</p>
</section>
</section>
<hr class="docutils" />
<section id="maximum-time-step">
<h2>Maximum Time Step<a class="headerlink" href="#maximum-time-step" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maximum</span> <span class="n">time</span> <span class="n">step</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id9">
<h3>Description / Usage<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<p>This card sets the value of the maximum allowable time step size in a <strong>transient</strong>
analysis, where the input parameter is defined as</p>
<dl class="simple">
<dt>&lt;float&gt;</dt><dd><p>Any floating point number in the same units as specified in the <em>delta_t</em>
card.</p>
</dd>
</dl>
</section>
<section id="id10">
<h3>Examples<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<p>A sample card that sets the maximum time step to 10.0 follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maximum</span> <span class="n">time</span> <span class="n">step</span> <span class="o">=</span> <span class="mf">10.0</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3>Technical Discussion<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<p>This setting is useful for advection dominated simulations, such as FILL, where a
Courant-like limit must be set on the value of the time step for optimal performance.</p>
</section>
</section>
<hr class="docutils" />
<section id="minimum-resolved-time-step">
<h2>Minimum Resolved Time Step<a class="headerlink" href="#minimum-resolved-time-step" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Minimum</span> <span class="n">Resolved</span> <span class="n">Time</span> <span class="n">Step</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id12">
<h3>Description / Usage<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<p>Its role is to set a lower bound for the time step with respect to the <strong>Time step error</strong>
tolerance. When a converged time step is obtained by GOMA, the difference between
the predicted solution and final solution for that time step is compared to the <strong>Time step
error</strong> tolerance. If the difference exceeds this tolerance the step fails and the time step
is cut (usually by a factor of 2), UNLESS the time step falls below the <strong>Minimum
Resolved Time Step</strong> size. In this case the step is accepted, even if this error tolerance is
not achieved. This provides a mechanism for the modeler to control what phenomena is
resolved and what phenomena is ignored.</p>
<dl class="simple">
<dt>&lt;float&gt;</dt><dd><p>Any floating point number in the same units as specified in the <em>delta_t</em>
card.</p>
</dd>
</dl>
</section>
<section id="id13">
<h3>Examples<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<p>A sample card that sets the maximum time step to 10.0 follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Maximum</span> <span class="n">Resolved</span> <span class="n">Time</span> <span class="n">Step</span> <span class="o">=</span> <span class="mf">10.0</span>
</pre></div>
</div>
</section>
<section id="id14">
<h3>Technical Discussion<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<p>See GT-034 for a thorough discussion.</p>
</section>
<section id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this headline"></a></h3>
<p>GT-034: Tutorial on time step parameter selection for level-set problems in GOMA.
April 1, 2006. D. R. Noble</p>
</section>
</section>
<hr class="docutils" />
<section id="courant-number-limit">
<h2>Courant Number Limit<a class="headerlink" href="#courant-number-limit" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Courant</span> <span class="n">Number</span> <span class="n">Limit</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id15">
<h3>Description / Usage<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h3>
<p>This parameter’s roll is to control time step growth based on the well-known Courant
number criterion. This card applies only to level-set problems. This card imposes an
upper limit on the time step size, irrespective of the variable time integrator already in
place.</p>
<dl class="simple">
<dt>&lt;float&gt;</dt><dd><p>Any floating point number to indicate the Courant number limit.</p>
</dd>
</dl>
</section>
<section id="id16">
<h3>Examples<a class="headerlink" href="#id16" title="Permalink to this headline"></a></h3>
<p>A sample card that sets the Courant number to 0.2 is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Courant</span> <span class="n">Number</span> <span class="n">Limit</span> <span class="o">=</span> <span class="mf">0.2</span>
</pre></div>
</div>
</section>
<section id="id17">
<h3>Technical Discussion<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<p>See GT-034 for a thorough discussion.</p>
</section>
<section id="theory">
<h3>Theory<a class="headerlink" href="#theory" title="Permalink to this headline"></a></h3>
<p>The time step limit imposed by this limit is computed as</p>
<div class="math notranslate nohighlight">
\[\mathrm{d}t_{\mathrm{limit}} = C \min_{e} \left| \frac{h_e}{ \lVert \hat{U} \rVert_e} \right|\]</div>
<p>Here <span class="math notranslate nohighlight">\(e\)</span> is the element, <span class="math notranslate nohighlight">\(h_e\)</span> is the average size of the element, <span class="math notranslate nohighlight">\(C\)</span> is the specified Courant
number, and</p>
<div class="math notranslate nohighlight">
\[\lVert \hat{U} \rVert_e = \frac{\int_{e}^{} \delta_{\alpha} \left( \phi \right) \underline{v} \cdot \underline{n} \, d \Omega}{\int_{e}^{} \delta_{\alpha} \left( \phi \right) \, d \Omega}\]</div>
</section>
<section id="id18">
<h3>References<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h3>
<p>GT-034: Tutorial on time step parameter selection for level-set problems in GOMA.
April 1, 2006. D. R. Noble</p>
</section>
</section>
<hr class="docutils" />
<section id="time-step-parameter">
<h2>Time Step Parameter<a class="headerlink" href="#time-step-parameter" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">step</span> <span class="n">parameter</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id19">
<h3>Description / Usage<a class="headerlink" href="#id19" title="Permalink to this headline"></a></h3>
<p>This card allows the user to vary the time integration scheme. The usual settings are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0.0</p></td>
<td><p>Backward Euler method (1st order in time)</p></td>
</tr>
<tr class="row-even"><td><p>0.5</p></td>
<td><p>Trapezoid rule (2nd order in time)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id20">
<h3>Examples<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h3>
<p>This is a sample card that sets the time integration scheme to Trapezoidal rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">step</span> <span class="n">parameter</span> <span class="o">=</span> <span class="mf">0.5</span>
</pre></div>
</div>
</section>
<section id="id21">
<h3>Technical Discussion<a class="headerlink" href="#id21" title="Permalink to this headline"></a></h3>
<p>One should usually use the Trapezoid rule. When a large time step <span class="math notranslate nohighlight">\(\Delta t\)</span> is used the
Trapezoid rule can exhibit oscillations. If such a large <span class="math notranslate nohighlight">\(\Delta t\)</span> is required then the Backward
Euler method can be used (it will damp oscillations), albeit at a cost of accuracy.</p>
<p>If we designate the time step parameter as <span class="math notranslate nohighlight">\(\theta\)</span>, the solution at time step <span class="math notranslate nohighlight">\(n\)</span> as <span class="math notranslate nohighlight">\(y^n\)</span>, and the
PDE to be solved as</p>
<div class="math notranslate nohighlight">
\[\frac{\partial y}{\partial t} = g \left( y \right)\]</div>
<p>then the time integration method takes the form</p>
<div class="math notranslate nohighlight">
\[\frac{y^{n+1} - y^n}{\Delta t} = \frac{2 \theta}{1 + 2 \theta} \dot{y}^n + \frac{1}{1 + 2 \theta} g \left( y^{n+1} \right)\]</div>
<p>where</p>
<div class="math notranslate nohighlight">
\[\dot{y}^{n+1} = \frac{1 + 2 \theta}{\Delta t} \left( y^{n+1} - y^n \right) - 2 \theta \dot{y}^n = g \left( y^{n+1} \right).\]</div>
<p>Note that there is no choice of finite <span class="math notranslate nohighlight">\(\theta\)</span> that will yield a Forward Euler method. See Gartling (1987) for more information.</p>
</section>
<section id="faqs">
<h3>FAQs<a class="headerlink" href="#faqs" title="Permalink to this headline"></a></h3>
<p>For porous flow problems with mass lumping, you should always choose backward
Euler method.</p>
</section>
<section id="id22">
<h3>References<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h3>
<p>SAND86-1816: NACHOS 2: A Finite Element Computer Program for Incompressible
Flow Problems - Part 2 - User’s Manual, Gartling, David K. (September, 1987).</p>
</section>
</section>
<hr class="docutils" />
<section id="time-step-error">
<h2>Time Step Error<a class="headerlink" href="#time-step-error" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">step</span> <span class="n">error</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">integer_list</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id23">
<h3>Description / Usage<a class="headerlink" href="#id23" title="Permalink to this headline"></a></h3>
<p>The time step error controls the adjustable time step size based on the difference
between the solution and the predicted solution (L<sub>2</sub> norm). The first of the eight
arguments is a floating point number that indicates the error in the time step selection.</p>
<dl>
<dt>&lt;float&gt;</dt><dd><p>the error value, any floating point number.</p>
<p>The smaller this number is, the smaller the time step will tend to be in the automatic
time step control. The original implementation of this capability in <em>Goma</em> did not use a
normalized value for the norm; to enable this most useful feature, use a negative value
of the time step error and a positive, normalized norm will be computed. This way a
percentage value of the solution error will be set.</p>
</dd>
<dt>&lt;integer_list&gt;</dt><dd><p>seven integers, with a value either zero (0) or one (1).</p>
<p>A further degree of control is offered by the seven integers (i<sub>1</sub>
through i<sub>7</sub>) that identify which solution variables will contribute
to the error norm calculations. Permissible values for each of these seven
integers are 0 and 1. The correspondence between the integers and variables
is as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>i<sub>1</sub></p></td>
<td><p>(pseudo) solid displacement</p></td>
</tr>
<tr class="row-even"><td><p>i<sub>2</sub></p></td>
<td><p>fluid velocity</p></td>
</tr>
<tr class="row-odd"><td><p>i<sub>3</sub></p></td>
<td><p>temperature</p></td>
</tr>
<tr class="row-even"><td><p>i<sub>4</sub></p></td>
<td><p>concentration, porous liquid pressure, gas pressure, porosity,
saturation</p></td>
</tr>
<tr class="row-odd"><td><p>i<sub>5</sub></p></td>
<td><p>pressure</p></td>
</tr>
<tr class="row-even"><td><p>i<sub>6</sub></p></td>
<td><p>fluid (polymer) extra stress</p></td>
</tr>
<tr class="row-odd"><td><p>i<sub>7</sub></p></td>
<td><p>voltage</p></td>
</tr>
</tbody>
</table>
<p>A value of 0 for an integer directs <em>Goma</em> to exclude contributions from
that variable in the error norm calculation; correspondingly, a value of
<strong>1</strong> means that variable should be included.</p>
</dd>
</dl>
</section>
<section id="id24">
<h3>Examples<a class="headerlink" href="#id24" title="Permalink to this headline"></a></h3>
<p>A sample time step error card follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">step</span> <span class="n">error</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></div>
</div>
<p>In this example, the L<sub>2</sub> norms for the fluid velocity, temperature, and concentration are
summed (and scaled) prior to comparison with the target error value of 0.01. If the
norms of the velocity, temperature, and concentration variables is greater than 0.01, the
time step is halved and the step repeated. Otherwise, the current step size is compared
to other step criteria before continuing to the next step.</p>
<p>If the integer values are omitted, the scaled error norm becomes infinite and the
analysis will terminate in the error norm calculation with an arithmetic overflow.</p>
</section>
<section id="id25">
<h3>Examples<a class="headerlink" href="#id25" title="Permalink to this headline"></a></h3>
<p>To use the normalized value of the norm, the following would be specified:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Time</span> <span class="n">step</span> <span class="n">error</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.01</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
</pre></div>
</div>
<p>This would set the maximum time step error to be 1%.</p>
</section>
<section id="id26">
<h3>Technical Discussion<a class="headerlink" href="#id26" title="Permalink to this headline"></a></h3>
<p>Note that on porous flow problems the error in step-size is computed as a composite
measure of all porous-flow variables, viz. these cannot currently be controlled
separately.</p>
</section>
</section>
<hr class="docutils" />
<section id="printing-frequency">
<h2>Printing Frequency<a class="headerlink" href="#printing-frequency" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Printing</span> <span class="n">Frequency</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span> <span class="p">[</span><span class="nb">float</span><span class="p">]</span>
</pre></div>
</div>
<section id="id27">
<h3>Description / Usage<a class="headerlink" href="#id27" title="Permalink to this headline"></a></h3>
<p>This card sets the printing frequency, the step or time interval, at which <em>Goma</em> will print
the solution variables to the <em>Output EXODUS II file</em> and the <em>SOLN file</em>. Definitions of
the &lt;integer&gt; options, and the dependent [float] option when &lt;integer&gt; is set to 0, are:</p>
<dl>
<dt>&lt;integer&gt;</dt><dd><p>Specifies how often the solution will be printed.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 95%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&gt; 0</p></td>
<td><p>Interval in time steps between successive printings of the solution,
any positive integer value.</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>Controls printing of the solution at regularly spaced (uniform) intervals
of time (every [float]), regardless of the number of time steps over that
time interval</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>[float]</dt><dd><p>Elapsed time (in the same units as specified in the <em>delta_t</em> card) between
successive printings of the solution (any positive number).</p>
</dd>
</dl>
</section>
<section id="id28">
<h3>Examples<a class="headerlink" href="#id28" title="Permalink to this headline"></a></h3>
<p><em>Goma</em> will print the solution every five time steps given the following sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Printing</span> <span class="n">Frequency</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
<p><em>Goma</em> will print the solution every ten time units given the following sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Printing</span> <span class="n">Frequency</span> <span class="o">=</span> <span class="mi">0</span> <span class="mf">10.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="fix-frequency">
<h2>Fix Frequency<a class="headerlink" href="#fix-frequency" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fix</span> <span class="n">Frequency</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id29">
<h3>Description / Usage<a class="headerlink" href="#id29" title="Permalink to this headline"></a></h3>
<dl class="simple">
<dt>&lt;integer&gt;</dt><dd><p>fix frequency relative to number of prints (0 is disabled)</p>
</dd>
</dl>
</section>
<section id="id30">
<h3>Examples<a class="headerlink" href="#id30" title="Permalink to this headline"></a></h3>
<p>Following are sample cards:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fix every print</span>
<span class="n">Fix</span> <span class="n">Frequency</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fix every 5 prints</span>
<span class="n">Fix</span> <span class="n">Frequency</span> <span class="o">=</span> <span class="mi">5</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="second-frequency-time">
<h2>Second Frequency Time<a class="headerlink" href="#second-frequency-time" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Second</span> <span class="n">frequency</span> <span class="n">time</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float2</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id31">
<h3>Description / Usage<a class="headerlink" href="#id31" title="Permalink to this headline"></a></h3>
<p>This card allows the time between successive writings of the solution to change after a
specified time and is only used if the &lt;integer&gt; in the <em>Printing Frequency</em> card is set to
0. Definitions of input parameters are as follows:</p>
<dl class="simple">
<dt>&lt;float1&gt;</dt><dd><p>Any number indicating the time at which the printing frequency should shift
from that specified in the <em>Printing Frequency</em> card to &lt;float2&gt;.</p>
</dd>
<dt>&lt;float2&gt;</dt><dd><p>Printing frequency in time units (same units as specified in the <em>delta_t</em>
card) for printing the solution at times greater than &lt;float1&gt;.</p>
</dd>
</dl>
</section>
<section id="id32">
<h3>Examples<a class="headerlink" href="#id32" title="Permalink to this headline"></a></h3>
<p>The following is a sample card that will change the printing frequency to print every 3
time units after 15 time units:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Second</span> <span class="n">frequency</span> <span class="n">time</span> <span class="o">=</span> <span class="mf">15.</span> <span class="mf">3.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="initial-time">
<h2>Initial Time<a class="headerlink" href="#initial-time" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initial</span> <span class="n">Time</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id33">
<h3>Description / Usage<a class="headerlink" href="#id33" title="Permalink to this headline"></a></h3>
<p>This card sets the time at which the calculation starts. The input parameter is defined as</p>
<dl class="simple">
<dt>&lt;float&gt;</dt><dd><p>Any number indicating the initial solution time (in the same units as
specified in the <em>delta_t</em> card). An additional feature can be triggered if
this float is specified to be negative, which triggers GOMA to look for the
nearest restart time in the restart ExodusII database to use as the start
time. Note that this option can only be used with Initial Guess options of
read_exoII_file or read_exoII.</p>
</dd>
</dl>
<p>Normally, the value of &lt;float&gt; will be set to zero unless the problem is a continuation
of a previous transient problem.</p>
</section>
<section id="id34">
<h3>Examples<a class="headerlink" href="#id34" title="Permalink to this headline"></a></h3>
<p>The following is a sample card that shows a restart at 45 time units:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initial</span> <span class="n">Time</span> <span class="o">=</span> <span class="mf">45.0</span>
</pre></div>
</div>
<p>The following is a sample card that triggers Goma to look for a restart time of 10 time
units, or the closest time value to 10 time units, to start from:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initial</span> <span class="n">Time</span> <span class="o">=</span> <span class="o">-</span><span class="mf">10.0</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="general_specifications.html" class="btn btn-neutral float-left" title="General Specifications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="level_set.html" class="btn btn-neutral float-right" title="Level Set Specifications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019 Goma Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>