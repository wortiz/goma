<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Source Terms &mdash; Goma User Manual 6.1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Shell Equation Properties and Models" href="shell_equation.html" />
    <link rel="prev" title="Species Properties" href="species.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Goma User Manual
            <img src="../_static/goma.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                6.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../background.html">Background Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_structure_and_io.html">Code Structure and I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../problem_description_file.html">Problem Description (Input File)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../material_files.html">Material Files</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="physical_properties.html">Physical Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="mechanical_and_constitutive.html">Mechanical Properties and Constitutive Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="thermal_properties.html">Thermal Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="electrical.html">Electrical Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="microstructure.html">Microstructure Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="species.html">Species Properties</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Source Terms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#navier-stokes-source"><strong>Navier-Stokes Source</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#description-usage"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#technical-discussion"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#references"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#solid-body-source"><strong>Solid Body Source</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#mass-source"><strong>Mass Source</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#heat-source"><strong>Heat Source</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#species-source"><strong>Species Source</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id15"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#theory"><strong>Theory</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id16"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#current-source"><strong>Current Source</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id18"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id19"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id20"><strong>Theory</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id21"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#moment-source">Moment Source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id22">Description / Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id23"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24"><strong>Technical Discussion</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id25"><strong>References</strong></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#initialize"><strong>Initialize</strong></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id26"><strong>Description / Usage</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id27"><strong>Examples</strong></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28"><strong>Technical Discussion</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="shell_equation.html">Shell Equation Properties and Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="moments.html">Moment Properties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation_lists.html">Appendix 1: Goma Documentation Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library_mode.html">Appendix 2: Using Goma in Library Mode</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Goma User Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../material_files.html">Material Files</a> &raquo;</li>
      <li>Source Terms</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/material_file/source_terms.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="source-terms">
<h1>Source Terms<a class="headerlink" href="#source-terms" title="Permalink to this headline"></a></h1>
<p>Source term models cover the internal generation of pressure (in fluids and solids), energy,
species component mass and electrical potential for each of the main differential equations.
Several representations are available for fluids, and the user should be aware of some
consistencies required with density models (see details below). For all of the source models, the
user must heed the following warning:</p>
<p><strong>Make sure the equation term multipliers for the source terms being used are set to unity</strong>
<em>(Section 4.12 - Problem Description and Equation specification in Volume 1).</em></p>
<section id="navier-stokes-source">
<h2><strong>Navier-Stokes Source</strong><a class="headerlink" href="#navier-stokes-source" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Navier</span><span class="o">-</span><span class="n">Stokes</span> <span class="n">Source</span> <span class="o">=</span> <span class="p">{</span><span class="n">model_name</span><span class="p">}</span> <span class="p">{</span><span class="n">float_list</span><span class="p">}</span> <span class="p">[</span><span class="n">varies</span><span class="p">]</span>
</pre></div>
</div>
<section id="description-usage">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#description-usage" title="Permalink to this headline"></a></h3>
<p>This required card is used to specify the model for the fluid momentum source term
vector in the Navier-Stokes equations. Gravitational and buoyancy effects often enter
through this card.</p>
<p>Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>{model_name}</p></td>
<td><p>Name of the fluid momentum source term model for the Navier-Stokes equations. The
model name will be one of the following strings:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>CONSTANT</strong></p></li>
<li><p><strong>USER</strong></p></li>
<li><p><strong>BOUSS</strong></p></li>
<li><p><strong>BOUSS_JXB</strong></p></li>
<li><p><strong>BOUSSINESQ</strong></p></li>
<li><p><strong>FILL</strong></p></li>
<li><p><strong>PHASE_FUNCTION</strong></p></li>
<li><p><strong>SUSPEND</strong></p></li>
<li><p><strong>SUSPENSION</strong></p></li>
<li><p><strong>VARIABLE_DENSITY</strong></p></li>
<li><p><strong>EHD_POLARIZATION</strong></p></li>
<li><p><strong>ACOUSTIC</strong></p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>{float_list}</p></td>
<td><p>One or more floating point numbers (&lt;float1&gt; through &lt;floatn&gt;); the specific number
is determined by the selection for {model _name}.</p></td>
</tr>
</tbody>
</table>
<p>Choices for {model_name} and the accompanying parameter list are given below;
additional user guidance can be found in the Technical Discussion section following
the Examples.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>CONSTANT</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt;</p></td>
<td><p>For a constant source model where the body force [M/L2t2] for this material does not
vary. The {float_list} contains three values to specify the three components of the
body force vector, where:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of body force</p></li>
<li><p>&lt;float2&gt; - a1, y-component of body force</p></li>
<li><p>&lt;float3&gt; - a2, z-component of body force</p></li>
</ul>
</div></blockquote>
<p>Note this source term has units of force/volume or, equivalently, density times
acceleration. This is not true of all source term models.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>USER</strong> &lt;float1&gt;…
&lt;floatn&gt;</p></td>
<td><p>For a user-defined model; the set of {float_list} parameters are those required by
specifications in the function usr_momentum_source.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>BOUSS</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt;</p></td>
<td><p>This option specifies a generalized Boussinesq source where the density is linearly
dependent upon temperature and concentration (species). The individual components
of the constant acceleration vector a0 are read from the three entries in the
{float_list}:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
</ul>
</div></blockquote>
<p>Unlike the <strong>CONSTANT</strong> model the units for these vector components are (L/t2), that
is, they are true acceleration values. See the technical discussion below for the
other parameters needed for this model.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>BOUSSINESQ</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt;</p></td>
<td><p>This model prescribes a body force source term that is very similar to the BOUSS
option except that the hydrostatic component is eliminated. The individual
components of the constant acceleration vector a0 are read from the three entries in
the {float_list}:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>BOUSS_JXB</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt;
&lt;float4&gt;</p></td>
<td><p>This source model option specifies a generalized Boussinesq source term, as above,
but also including Lorentz (electromagnetic) forces. The constant acceleration vector
a0 is again specified using the first three constants that appear in the
{float_list}. The fourth constant of the list is a Lorentz scaling factor (lsf). It
may be used to scale the Lorentz term; see the Technical Discussion for more
information.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
<li><p>&lt;float4&gt; - lsf, Lorentz scaling factor.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>EHD_POLARIZATION</strong>
&lt;float1&gt;</p></td>
<td><p>This source model option can be used to add on a dielectrophoretic force to the
Navier-Stokes equations of the form ρE • ∇E ., where E is the electric field vector
and ρ is a user-supplied constant with dimensions [q2T2/ L3]. This term requires the
vector <em>efield</em> equation and the <em>voltage</em> equation to be solved simultaneously with
the fluid-phase momentum equation. cf. <em>EQ</em> card definitions.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; is the constant ρ as described above</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>FILL</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt;</p></td>
<td><p>This model prescribes the body force momentum source term for problems making use of
volume-of-fluid interface tracking. The card prescribes a constant acceleration
vector, usually the gravitational acceleration [L/T2]. It can only be employed when
using the <strong>FILL</strong> density model.</p>
<p>The individual components of the constant acceleration vector a0 are read from the
three entries after the <strong>FILL</strong> string in the {float_list}, where:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>LEVEL_SET</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt;</p></td>
<td><p>This model prescribes the body force momentum source term for problems making use of
level set interface tracking. The card prescribes a constant acceleration vector,
usually the gravitational acceleration [L/T2]. It can only be used when also using
the <strong>LEVEL_SET</strong> density model.</p>
<p>The individual components of the constant acceleration vector a0 are read from the
three entries after the <strong>LEVEL_SET</strong> string in the {float_list}, where:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>PHASE_FUNCTION</strong>
&lt;float1&gt; &lt;float2&gt; &lt;float3&gt;</p></td>
<td><p>This model prescribes the body force momentum source term for problems making use of
phase function interface tracking (a generalization of the level set method for more
than two phases). The card prescribes a constant acceleration vector, usually the
gravitational acceleration [L/T2]. It can only be used when also using the
<strong>CONST_PHASE_FUNCTION</strong> density model.</p>
<p>The individual components of the constant acceleration vector a0 are read from the
three entries after the <strong>PHASE_FUNCTION</strong> string in the {float_list}, where:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>VARIABLE_DENSITY</strong>
&lt;float1&gt; &lt;float2&gt; &lt;float3&gt;</p></td>
<td><p>This model sets the momentum body force source term for problems that employed the
<strong>SOLVENT_POLYMER</strong> density model. The three parameters on the card are the
individual components of a constant acceleration vector (usually due to gravity):</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
</ul>
</div></blockquote>
<p>The actual body force applied is the local density computed from the
<strong>SOLVENT_POLYMER</strong> model multiplied by this vector.</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>SUSPEND</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt; &lt;float4&gt;</p></td>
<td><p>This model prescribes a body force source term for suspensions where the carrier
fluid and the particle phase have different densities. Four parameters must be set
for this card using the {float_list}. The first three parameters (&lt;float1&gt;. &lt;float2&gt;,
and &lt;float3&gt;) are the three components of the gravity vector. The fourth parameter
(&lt;float4&gt;) is a reference concentration, Cref.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
<li><p>&lt;float4&gt; - Cref, reference concentration</p></li>
</ul>
</div></blockquote>
<p>This source model requires a <em>SUSPENSION</em> density model be specified for the Density
model. The density parameters on this card are used in this source model. If this
momentum source term is used in conjunction with the <strong>HYDRODYNAMIC</strong> mass flux
option, only one species can use the <strong>HYDRO</strong> diffusivity model.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>SUSPENSION</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt; &lt;float4&gt;</p></td>
<td><p>This model is identical to the <strong>SUSPEND</strong> momentum source model (above), with the
addition of mass source terms in the continuity equation due to transport of
species with different densities.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
<li><p>&lt;float4&gt; - Cref, reference concentration</p></li>
</ul>
</div></blockquote>
<p>This source model requires a <strong>SUSPENSION</strong> density model be specified for the
<em>Density</em> model. The density parameters in this card are used in this source model.
If this momentum source term is used in conjunction with the <strong>HYDRODYNAMIC</strong> mass
flux option, only one species can use the <strong>HYDRO</strong> diffusivity model.</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>ACOUSTIC</strong> &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt; &lt;float4&gt;</p></td>
<td><p>This model includes the gradient of the acoustic Reynolds stress as a momentum source
in addition to the usual gravitational source terms. The {float_list} contains four
values to specify the three components of the body force vector plus a Reynolds
stress gradient multiplier, where:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a0, x-component of acceleration</p></li>
<li><p>&lt;float2&gt; - a1, y-component of acceleration</p></li>
<li><p>&lt;float3&gt; - a2, z-component of acceleration</p></li>
<li><p>&lt;float4&gt; - acoustic term multiplier</p></li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>WARNING: Make sure the equation term multipliers for the source terms are set to unity.</p>
</section>
<section id="examples">
<h3><strong>Examples</strong><a class="headerlink" href="#examples" title="Permalink to this headline"></a></h3>
<p>Following are some sample input cards:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Navier</span><span class="o">-</span><span class="n">Stokes</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">BOUSS</span> <span class="mf">0.</span> <span class="o">-</span><span class="mf">980.</span> <span class="mf">0.</span>
<span class="n">Navier</span><span class="o">-</span><span class="n">Stokes</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">LEVEL_SET</span> <span class="mf">0.</span> <span class="o">-</span><span class="mf">980.</span> <span class="mf">0.</span>
</pre></div>
</div>
</section>
<section id="technical-discussion">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#technical-discussion" title="Permalink to this headline"></a></h3>
<p>This section contains user guidance, and theoretical background when appropriate, for
each of the options for Navier-Stokes Source models.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>CONSTANT</strong></p></td>
<td><p>A constant source model has a body force [M/L2t2] for the material which does not
vary. A common usage of this model is for an incompressible fluid in a uniform
gravitational field. Note that the source term has units of force/volume or,
equivalently, density times acceleration. Thus, the values in the {float_list} would
need to be specified as the product of the fluid density and the acceleration of
gravity.</p></td>
</tr>
<tr class="row-even"><td><p><strong>USER</strong></p></td>
<td><p>This model option provides a means for the user to create a custom Navier-Stokes
Source model for his/her special problem. The parameters of the model will be used by
the source term model defined in the usr_momentum_source function. The {float_list}
parameters are passed to this function as a one dimensional array named param in the
order in which they appear on the card. The model must return a body force
(force/volume) vector. An example use of this specification might be to construct a
Coriolis acceleration term for a fluid in a rotating reference frame.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>BOUSS</strong></p></td>
<td><p>A generalized Boussinesq source term has the form where the linear dependence of the
density upon temperature and concentration is used for this source term only. Density
is assumed constant wherever else it happens to appear in the governing conservation
equations. The density has been expanded in a Taylor series to first order about a
reference state that is chosen so that, at the reference temperature T0 and
concentration C0 the density is ρ0. The reference density is taken from the CONSTANT
density model specified earlier in the material file on the Density card. The
coefficient of thermal expansion of the fluid, β, is taken from the Volume Expansion
card specified under Thermal Properties for this material. βc, is taken from the
Species Volume Expansion card specified under species Properties for this material.
The individual components of the constant acceleration vector a0 are the three
entries of the {float_list} after the BOUSS string.</p>
<p>Note that this BOUSS form includes the body force of the reference state so that a
motionless fluid at a uniform temperature of T0 must be sustained by a linearly
varying pressure field. Below, an alternative means for solving Boussinesq problems
is presented that eliminates the constant hydrostatic feature of the BOUSS
formulation. T0 is set on the Reference Temperature card.</p>
</td>
</tr>
</tbody>
</table>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/463_goma_physics.png"><img alt="../_images/463_goma_physics.png" src="../_images/463_goma_physics.png" style="width: 90%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>BOUSSINESQ</strong></p></td>
<td><p>This model prescribes a body force source term that is very similar to the BOUSS
option except that the hydrostatic component is eliminated. Thus the form so that a
no-flow solution with uniform temperature and concentration may be maintained by a
constant pressure field. This form for the Boussinesq equations can sometimes provide
a more well-conditioned equation system for weakly buoyant flows. Note again the
implied convention that the coefficient of thermal expansion is positive when the
density decreases with increasing temperature. That is, The same convention holds for
the coefficient of solutal expansion. A source of confusion with buoyancy problems
is that many sign conventions are applied. In addition to the convention for β,
another possible source of confusion arises from a negative sign on the gravitational
acceleration vector in many coordinate systems. That is, is a frequent choice for the
constant acceleration for a twodimensional problem posed in Cartesian coordinates.T0
is set on the Reference Temperature card.</p></td>
</tr>
</tbody>
</table>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/464_goma_physics.png"><img alt="../_images/464_goma_physics.png" src="../_images/464_goma_physics.png" style="width: 90%;" /></a>
</figure>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/465_goma_physics.png"><img alt="../_images/465_goma_physics.png" src="../_images/465_goma_physics.png" style="width: 90%;" /></a>
</figure>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/466_goma_physics.png"><img alt="../_images/466_goma_physics.png" src="../_images/466_goma_physics.png" style="width: 90%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>BOUSS_JXB</strong></p></td>
<td><p>This model is a generalized Boussinesq source term, as above, but also includes
Lorentz forces. That is, the source term has the form where, in addition to the term
defined for the BOUSS option, there is an added term due to electromagnetic forces
acting upon a conducting fluid. The constant acceleration vector a0 is again
specified using the first three constants that appear in the {float_list}. The fourth
constant, lsf, may be used to scale the Lorentz term as desired (for example, lsf
= 1 using a Gaussian system of units, or lsf = 1/c using a rationalized MKSA system
of units).</p>
<p>The two vector fields J, the current flux, and B, the magnetic induction, must be
supplied to Goma in order to activate this option. At present, these fields must be
supplied with the External Field cards, which provide the specific names of nodal
variable fields in the EXODUS II files from which the fields are read. The three
components of the J field must be called JX_REAL, JY_REAL, and JZ_REAL. Likewise the
B field components must be called BX_REAL, BY_REAL, and BZ_REAL. These names are the
default names coming from the electromagnetics code TORO II (Gartling, 1996). Because
of the different coordinate convention when using cylindrical components, the fields
have been made compatible with those arising from TORO II. It is the interface with
TORO that also makes the Lorentz scaling (lsf) necessary so that the fixed set of
units in TORO (MKS) can be adjusted to the userselected units in Goma. T0 is set on
the Reference Temperature card.</p>
</td>
</tr>
</tbody>
</table>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/467_goma_physics.png"><img alt="../_images/467_goma_physics.png" src="../_images/467_goma_physics.png" style="width: 90%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>FILL</strong></p></td>
<td><p>The body force applied when using this momentum source model is as follows:
where ρ1 and ρ0 are the phase densities obtained from the FILL density card, F is the
value of the fill color function and the constant acceleration vector a0 is read from
the three entries in the {float_list} of the FILL momentum source card.</p></td>
</tr>
</tbody>
</table>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/468_goma_physics.png"><img alt="../_images/468_goma_physics.png" src="../_images/468_goma_physics.png" style="width: 90%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>LEVEL_SET</strong></p></td>
<td><p>The body force applied when this model is used is given by the following function of
the level set function value, φ: where is a smooth Heaviside function, φ is the value
of the level set function, ρ+ and ρ- are the positive and negative phase densities,
and α is the density transition length scale. The latter three parameters are
obtained from the LEVEL_SET density card. The individual components of the constant
acceleration vector a0 are three float parameters appearing in the {float_list}
following the LEVEL_SET model name.</p></td>
</tr>
</tbody>
</table>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/469_goma_physics.png"><img alt="../_images/469_goma_physics.png" src="../_images/469_goma_physics.png" style="width: 90%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>PHASE_FUNCTION</strong></p></td>
<td><p>The body force applied when this model is specified is identical in concept to that
applied with the above LEVEL_SET model. The parameters on this card are simply the
components of a constant acceleration vector (gravity in most applications). This
card must be used in conjunction with the CONST_PHASE_FUNCTION density model because
the actual body force vector is obtained by multiplying the acceleration vector
specified with this card by the density computed by that latter model. Again this is
identical in concept to the LEVEL_SET body force source model.</p></td>
</tr>
<tr class="row-even"><td><p><strong>SUSPEND</strong></p></td>
<td><p>This model prescribes a body force source term that is for simulating suspensions
when the suspending fluid and particle phase have different densities. The difference
in density can lead to buoyancy driven flow. The form of the source term is given
below: where Ci is the solid particle volume fraction tracked using a species
equation with a HYDRO diffusion model. Four parameters must be set for this card
using the {float_list}. The first three parameters are the three components of the
gravity vector. The fourth parameter is a reference concentration, Cref. The density
values are those entered by a SUSPENSION density model on the Density card.</p>
<p>NOTE: If this momentum source term is used in conjunction with the HYDRODYNAMIC mass
flux option, only one species can use the HYDRO diffusivity model.</p>
</td>
</tr>
</tbody>
</table>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/470_goma_physics.png"><img alt="../_images/470_goma_physics.png" src="../_images/470_goma_physics.png" style="width: 90%;" /></a>
</figure>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>SUSPENSION</strong></p></td>
<td><p>This model is identical to the SUSPEND momentum source model in terms of the assembly
of the momentum equation. However, this model creates a source term that gets applied
during the assembly of the continuity equation due to transport of species with
different densities. The suspension density models meet the definition of a locally
variable density model, so the Lagrangian derivative of their densities can be
represented as a divergence of mass flux. This term is integrated by parts and this
particle phase flux is included separately as a source term for the continuity
equation.</p></td>
</tr>
<tr class="row-even"><td><p><strong>ACOUSTIC</strong></p></td>
<td><p>This model contains the usual gravitational source terms in the CONSTANT model plus
the gradient of the acoustic Reynolds stress as an additional momentum source. The
acous_reyn_stress equation must be present to use this source model.</p></td>
</tr>
</tbody>
</table>
<p>The user should take special note of the distinction between the different use of the
{float_list} for <strong>CONSTANT</strong> body force problems and for the various buoyant options.
For the <strong>CONSTANT</strong> model, the three components are the force per unit volume, and
the user must remember to include density specifically if it is desired. For the buoyancy
options, the three components are acceleration, and the density value specified on a
previous card is automatically used by <em>Goma</em> to construct the overall body force source
term. This is also true for the <strong>FILL, LEVEL_SET, SUSPENSION</strong> and <strong>SUSPEND</strong>
momentum source models.</p>
<p>The user must also take special care that the source term multipliers for the momentum
equation are set to unity.</p>
</section>
<section id="references">
<h3><strong>References</strong><a class="headerlink" href="#references" title="Permalink to this headline"></a></h3>
<p>Gartling, D. K., TORO II - A Finite Element Computer Program for Nonlinear Quasi-
Static Problems in Electromagnetics, Part I - Theoretical Background, SAND95-2472,
Sandia National Laboratories, Albuquerque, NM, May 1996.</p>
</section>
</section>
<section id="solid-body-source">
<h2><strong>Solid Body Source</strong><a class="headerlink" href="#solid-body-source" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Solid</span> <span class="n">Body</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">CONSTANT</span> <span class="o">&lt;</span><span class="n">species_number</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float3</span><span class="o">&gt;</span>
</pre></div>
</div>
<section id="id1">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<p>This card is used to specify the model for the body force source term on the solid
mechanics momentum equations. This card is used most to impose gravitational forces
on solid phase material elements in the problem. It can be also used to impose body
forces on the pseudo-solid mesh material if that is desirable.</p>
<p>Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>CONSTANT</strong></p></td>
<td><p>A string identifying the constant force model. Currently, this is the only body force
model for solid materials.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - the x-component of the body force vector in (F/L3).</p></li>
<li><p>&lt;float2&gt; - the y-component of the body force vector in (F/L3).</p></li>
<li><p>&lt;float3&gt; - the z-component of the body force vector in (F/L3).</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>JXB</strong></p></td>
<td><p>A string identifying a body force model based on external current density fields J
and external magnetic fields B. See Technical discussion.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - a scale factor, usually set to 1.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id2">
<h3><strong>Examples</strong><a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<p>The following is a sample input card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Solid</span> <span class="n">Body</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">CONSTANT</span> <span class="mf">0.0</span> <span class="mf">0.0</span> <span class="o">-</span><span class="mf">2000.0</span>
</pre></div>
</div>
</section>
<section id="id3">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<p>Just as there is a body force vector that can be applied to fluid material regions, there is
a capability to apply a similar body force term to solid material regions. Most often this
is used to apply gravitational forces in which case the values of the components
supplied on this card would be the solid density multiplied by the gravitational
acceleration vector.</p>
<p>The <strong>JXB</strong> model requires external nodal fields loaded through External Field capability.
These fields must be named JE_N_1, JE_N_2, and JE_N_3 for the three components of
the current density and BE_N_1, BE_N_2, and BE_N_3 for the three components of
the magnetic field.</p>
</section>
<section id="id4">
<h3><strong>References</strong><a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<p>No References.</p>
</section>
</section>
<section id="mass-source">
<h2><strong>Mass Source</strong><a class="headerlink" href="#mass-source" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mass</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">CONSTANT</span> <span class="mf">0.</span>
</pre></div>
</div>
<section id="id5">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<p>This source term is inactive in <em>Goma</em> but the card must be present in the input at this
time. Definitions of the input parameters are as follows.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>CONSTANT</strong></p></td>
<td><p>Name of the model (to prevent heartburn for <em>Goma</em>). 0. A floating point number (the
value zero).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id6">
<h3><strong>Examples</strong><a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<p>Following is the only allowable card specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mass</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">CONSTANT</span> <span class="mf">0.</span>
</pre></div>
</div>
</section>
<section id="id7">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<p>No Discussion.</p>
</section>
<section id="id8">
<h3><strong>References</strong><a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<p>No References.</p>
</section>
</section>
<section id="heat-source">
<h2><strong>Heat Source</strong><a class="headerlink" href="#heat-source" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Heat</span> <span class="n">Source</span> <span class="o">=</span> <span class="p">{</span><span class="n">model_name</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">float_list</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">varies</span><span class="p">]</span>
</pre></div>
</div>
<section id="id9">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<p>This required card is used to specify the model for the source term on the energy
equation. Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>{model_name}</p></td>
<td><p>Name of the model for the source term on the energy equation. The permissible values
are</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>CONSTANT</strong></p></li>
<li><p><strong>USER</strong></p></li>
<li><p><strong>USER_GEN</strong></p></li>
<li><p><strong>JOULE</strong></p></li>
<li><p><strong>EPOXY</strong></p></li>
<li><p><strong>VISC_DISS</strong></p></li>
<li><p><strong>BUTLER_VOLMER</strong></p></li>
<li><p><strong>ELECTRODE_KINETICS</strong></p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>&lt;float_list&gt;</p></td>
<td><p>One or more floating point numbers (&lt;float1&gt; through &lt;floatn&gt;) whose values are
determined by the selection for {model_name}. Note that not all models have a
&lt;float_list&gt;.</p></td>
</tr>
</tbody>
</table>
<p>Source-term model choices and their parameters are discussed below. WARNING:
make sure the equation term multipliers for the source terms are set to unity (see the
Equation Cards segment in the previous chapter).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>CONSTANT</strong> &lt;float1&gt;</p></td>
<td><p>The constant source model adds a constant homogenous source term [E/L3t] to the heat
equations. The &lt;float_list&gt; has a single value: &lt;float1&gt; - Heat source.</p></td>
</tr>
<tr class="row-even"><td><p><strong>USER</strong> &lt;float1&gt;…
&lt;floatn&gt;</p></td>
<td><p>The <strong>USER</strong> option indicates that a user-defined model has been introduced into the
usr_heat_source routine in the user_mp.c file. The &lt;float_list&gt; is of arbitrary
length subject to the user’s requirements to parameterize the model.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>USER_GEN</strong> &lt;float1&gt;…
&lt;floatn&gt;</p></td>
<td><p>The <strong>USER_GEN</strong> option provides a user-defined model with low-level, general
capabilities. For this option one must make the appropriate modifications to the
routine usr_heat_source_gen in the user_mp_gen.c file. The difference between the
<strong>USER</strong> and <strong>USER_GEN</strong> capabilities is described at the beginning of this chapter.</p></td>
</tr>
<tr class="row-even"><td><p><strong>JOULE</strong></p></td>
<td><p>The <strong>JOULE</strong> model is used to specify a Joule heating source term. No input is
required for this model as the sole independent parameter of the model for the
voltage equation is the “Electrical Conductivity”, which is specified in the material
file.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>EPOXY</strong> &lt;float1&gt;</p></td>
<td><p>The <strong>EPOXY</strong> model is used to specify the heat generated by an epoxy curing
reaction. The single input value is the:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - heat of reaction due to curing</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>VISC_DISS</strong> &lt;float&gt;</p></td>
<td><p>The <strong>VISC_DISS</strong> model is used to specify the heat generated by viscous dissipation.
The &lt;float_list&gt; has a single value:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - A multiplier to facilitate different unit combinations. Selection of
this option activates its use.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>BUTLER_VOLMER</strong>
&lt;integer&gt; &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt; &lt;float4&gt;
&lt;float5&gt; &lt;float6&gt; &lt;float7&gt;
&lt;float8&gt;</p></td>
<td><p>The <strong>BUTLER_VOLMER</strong> model is used to specify the current source or sink due to a
homogeneuous electrochemical reaction involving a single species (e.g., the hydrogen
oxidation and oxygen reduction reactions in a hydrogen-feuled polymerelectrolyte-
membrane fuel cell), which is computed using the Butler-Volmer kinetic model (as
described in the Theory section of the <strong>BUTLER_VOLMER</strong> current source card). This
is due to that the voltage equation is used to solve for the electrical potential in
the liquid electrolyte phase whereas the energy equation is utilized to solve for the
electrical potential in the solid-electrode phase such that the electrode potential
unknowns is represented by the temperature unknown. Parameters required for this
<strong>BUTLER_VOLMER</strong> heat source model are the same as those for the <strong>BUTLER_VOLMER</strong>
current source model; accordingly, detailed description of the model parameters can
be found in the Current Source section of this manual.</p></td>
</tr>
<tr class="row-even"><td><p><strong>ELECTRODE_KINETICS</strong></p></td>
<td><p>The <strong>ELECTRODE_KINETICS</strong> model is used to specify the current generated or consumed
in the solid electrode phase in electrochemical processes involving concentrated
electrolyte solution and multiple species as in thermal batteries. As in the
case of the <strong>BUTLER_VOLMER</strong> model, this is due to that the voltage equation is used
to solve for the electrical potential in the liquid electrolyte phase whereas the
energy equation is utilized to solve for the electrical potential in the solid-
electrode phase such that the electrode potential unknowns is represented by the
temperature unknown. The {model_name} <strong>ELECTRODE_KINETICS</strong> toggles on the option in
the equation assembly; no parameters are required.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id10">
<h3><strong>Examples</strong><a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<p>The following is a sample input card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Heat</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">CONSTANT</span> <span class="mf">1.</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<p>The energy equation solved by <em>Goma</em>, which can be found elsewhere, is a convectionconduction
equation given by</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/471_goma_physics.png"><img alt="../_images/471_goma_physics.png" src="../_images/471_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>The heat source-term model represented by H is specified by this input record. The
<strong>CONSTANT, USER</strong> and <strong>USER_GEN</strong> options provide the standard means of
specifying model input and will not be discussed.</p>
<p><strong>JOULE Model</strong>: The <strong>JOULE</strong> model is used to specify a Joule heating term. It is based
on heat generation in a medium of specified electrical resistance subjected to an
electrical voltage potential. It computes the heat source as:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/472_goma_physics.png"><img alt="../_images/472_goma_physics.png" src="../_images/472_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where <em>J</em> is the current flux density which is represented as –σ∇φ and φ is represented
using the voltage equation. No input is required for this model since the <em>Electrical
Conductivity</em> is specified in the material file for the voltage equation.</p>
<p><strong>EPOXY Model</strong>: The <strong>EPOXY</strong> model is used to specify the heat generated by a
condensation reaction, which is the heat of reaction, ΔHrxn, multiplied by the reaction
rate as measured by the extent of reaction. The form of the equation is:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/473_goma_physics.png"><img alt="../_images/473_goma_physics.png" src="../_images/473_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>This card is used in conjunction with the EPOXY Species Source so that the reaction
rate Rα can be determined.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/474_goma_physics.png"><img alt="../_images/474_goma_physics.png" src="../_images/474_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p><strong>VISC_DISS Model</strong>: In heat transfer problems that are accompanied by fluid flow, the
energy balance equation contains a term which represents the (rate of) work done on
the fluid by viscous forces. These forces have the potential to raise the fluid
temperature and therefore it may be necessary to include these forces in your analysis.
Typically, problems in which this term is significant may be characterized as highspeed
flows with large velocity gradients, rapid extrusion and lubrication problems.
The Brinkman number (Br = (μV2) ⁄ (kΔT)) is an indicator of the importance of
viscous heating relative to the heat flow caused by temperature gradients.</p>
<p>Mathematically, the Heat Source term, <em>H</em>, in the energy equation is given by</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/475_goma_physics.png"><img alt="../_images/475_goma_physics.png" src="../_images/475_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where (( •) indicates a double dot product. This mechanism is an irreversible
process whereby mechanical energy is degraded into thermal energy, as the right hand
side expands to the sum of quadratic terms which will always be positive, at least for
Newtonian fluids. In <em>Goma</em>, the <strong>VISC_DISS</strong> model computes the source term in
function <strong>visc_diss_heat_source</strong> in <em>mm_std_models.c</em>; the expression looks like</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/476_goma_physics.png"><img alt="../_images/476_goma_physics.png" src="../_images/476_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where μ is the viscosity and γ is the shear rate.</p>
<p>The <em>multiplier</em> allows the user the flexibility to choose appropriate units for the
momentum and energy equations. For example, for many problems the momentum
equations are scaled appropriately using viscosity units of psi-sec. But in the absence of
this multiplier, this would force the energy equation to be in units of psi/sec; in other
words, (<em>density*heat capacity</em>) would need to be in units of psi/(deg C) and thermal
conductivity would need to be in units of psi-in2/(sec-deg C) - these aren’t exactly
common units! Instead, we can set the multiplier to 6891 (i.e., 6891 Pa = 1 psi) in order
to have the energy equation in units of J/sec - i.e. leaving (<em>density*heat capacity</em>) in
units of J/(m3 deg C) and thermal conductivity in terms of J/(m-sec deg C). Another use
of the multiplier is to allow appropriate scales when the momentum equation is
diffusion-dominated and the thermal equation is convection-dominated. Suppose we
keep all quantities in MKS units. The convection terms in the thermal equation can
then be scaled to roughly order unity by dividing through by (<em>density*heat capacity</em>) -
i.e. set <em>heat capacity=1/density, thermal conductivity = thermal diffusivity</em>, and set the
dissipation multiplier to <em>1/(density*heat capacity).</em></p>
<p>So, in essence, this multiplier allows flexibility in the choice of mechanical and thermal
units in a convenient manner - i.e. it’s on the term that couples the energy and
momentum equations.</p>
<p><strong>BUTLER_VOLMER</strong> and <strong>ELECTRODE_KINETIC Models</strong>: As mentioned above,
these two models are used to specify the current generated or consumed in the solid
electrode phase in electrochemical processes such as polymer-electrolyte-membrane
fuel cells and thermal batteries. This is due to that the voltage equation is used to solve
for the electrical potential in the liquid electrolyte phase whereas the energy equation is
utilized to solve for the electrical potential in the solid-electrode phase such that the
electrode potential unknown is actually represented by the temperature unknown.
Further details for the <strong>BUTLER_VOLMER</strong> model are presented in the current source
model section of this manual and that for the <strong>ELECTRODE_KINETIC</strong> model can be
found in the reference provided below (Chen et al. 2000).</p>
<p><strong>VARIABLE_DENSITY Model</strong>: Work was begun on a <strong>VARIABLE_DENSITY</strong>
model for drying problems but has not been completed. The roots for this may be found
in the source code but the model is not yet functional; it was not listed above as a valid
Heat Source option.</p>
</section>
<section id="id12">
<h3><strong>References</strong><a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<p>SAND2000-0207: Final Report on LDRD Project: A Phenomenological Model for
Multicomponent Transport with Simultaneous Electrochemical Reactions in
Concentrated Solutions, K. S. Chen, G. H. Evans, R. S. Larson, D. R. Noble and W. G.
Houf, January 2000.</p>
</section>
</section>
<section id="species-source">
<h2><strong>Species Source</strong><a class="headerlink" href="#species-source" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Species</span> <span class="n">Source</span> <span class="o">=</span> <span class="p">{</span><span class="n">model_name</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">species</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float_list</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">varies</span><span class="p">]</span>
</pre></div>
</div>
<section id="id13">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id13" title="Permalink to this headline"></a></h3>
<p>This required card is used to specify the model for the source term on the species
convection diffusion equations. Definitions of the input parameters are as follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>{model_name}</p></td>
<td><p>Name of the model for the source term on the species convection diffusion equations.
The permissible values are</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>CONSTANT</strong></p></li>
<li><p><strong>BUTLER_VOLMER</strong></p></li>
<li><p><strong>ELECTRODE_KINETICS</strong></p></li>
<li><p><strong>ELECTROOSMOTIC</strong></p></li>
<li><p><strong>EPOXY</strong></p></li>
<li><p><strong>EPOXY_DEA</strong></p></li>
<li><p><strong>FOAM</strong></p></li>
<li><p><strong>USER</strong></p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>&lt;species&gt;</p></td>
<td><p>An integer designating the species equation.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;float_list&gt;</p></td>
<td><p>One or more floating point numbers (&lt;float1&gt; through &lt;floatn&gt;) whose values are
determined by the selection for {model_name}.</p></td>
</tr>
</tbody>
</table>
<p>Source-term model choices and their parameters are discussed below. Details are
contained in the Technical Discussion section below. The &lt;species&gt; definition given
above applies to all the following choices for which it is specified; its definition will
not be repeated.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>CONSTANT</strong> &lt;species&gt;
&lt;float1&gt;</p></td>
<td><p>This model of a constant species source has a single input value: &lt;float1&gt;-Constant
species source</p></td>
</tr>
<tr class="row-even"><td><p><strong>BUTLER_VOLMER</strong>
&lt;species&gt; &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt; &lt;float4&gt;
&lt;float5&gt; &lt;float6&gt; &lt;float7&gt;
&lt;float8&gt; &lt;float9&gt;</p></td>
<td><p>This is the homogeneous species source or sink term (in units of moles per unit
volume, e.g. moles/cm3-s) as described by the Butler-Volmer kinetic model (see the
Theory section below). One integer and 9 flotas are required:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;species&gt; - Index of the species involved in the electrochemical reaction (here,
we assume that only a single species is involved).</p></li>
<li><p>&lt;float1&gt; - Stoichiometric coefficient, s.</p></li>
<li><p>&lt;float2&gt; - Product of interfacial area per unit volume by exchange current
density, ai0, in units of A/cm3.</p></li>
<li><p>&lt;float3&gt; - Reaction order, β.</p></li>
<li><p>&lt;float4&gt; - Reference species concentration, cref, in units of moles/cm3.</p></li>
<li><p>&lt;float5&gt; - Anodic transfer coefficient, αa.</p></li>
<li><p>&lt;float6&gt; - Cathodic transfer coefficient, αc.</p></li>
<li><p>&lt;float7&gt; - Temperature, T, in unit of K.</p></li>
<li><p>&lt;float8&gt; - Open-circuit potential, U0, in unit of V.</p></li>
<li><p>&lt;float9&gt; - Number of electrons involved in the reaction, n.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>ELECTRODE_KINETICS</strong></p></td>
<td><p>The <strong>ELECTRODE_KINETICS</strong> model is used to specify the species generation or
consumption in electrochemical processes involving concentrated electrolyte solutions
and multiple species such as thermal batteries. The {model_name}
<strong>ELECTRODE_KINETICS</strong> toggles on the option in the equation assembly; no parameters
are required.</p></td>
</tr>
<tr class="row-even"><td><p><strong>ELECTROOSMOTIC</strong>
&lt;int1&gt; &lt;int2&gt; &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt; &lt;float4&gt;
&lt;float5&gt; &lt;float6&gt; &lt;float7&gt;
&lt;float8&gt; &lt;float9&gt;
&lt;float10&gt;</p></td>
<td><p>This is the source or sink term (in units of moles per unit volume, e.g. moles/cm3-s)
for thw water species due to electro-osmotic drag by the protons (H+). Two integers
and 10 flotas are required:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;int1&gt; - Water species index.</p></li>
<li><p>&lt;int2&gt; - Index of the species involved in the electrochemical reaction that
generates the electrical current (here, we assume that only a single species is
involved).</p></li>
<li><p>&lt;float1&gt; - Stoichiometric coefficient, s.</p></li>
<li><p>&lt;float2&gt; - Product of interfacial area per unit volume by exchange current
density, ai0, in units of A/cm3.</p></li>
<li><p>&lt;float3&gt; - Reaction order, β.</p></li>
<li><p>&lt;float4&gt; - Reference species concentration, cref, in units of moles/cm3.</p></li>
<li><p>&lt;float5&gt; - Anodic transfer coefficient, αa.</p></li>
<li><p>&lt;float6&gt; - Cathodic transfer coefficient, αc.</p></li>
<li><p>&lt;float7&gt; - Temperature, T, in unit of K.</p></li>
<li><p>&lt;float8&gt; - Open-circuit potential, U0, in unit of V.</p></li>
<li><p>&lt;float9&gt; - Number of electrons involved in the reaction, n.</p></li>
<li><p>&lt;float10&gt; - Electro-osmotic drag coefficient, nd.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>EPOXY</strong> &lt;species&gt;
&lt;floatlist&gt;</p></td>
<td><p>The <strong>EPOXY</strong> model adds a reaction source term for a condensation polymerization
reaction based on an extent of reaction variable. Six model parameters make up the
&lt;float_list&gt; for the <strong>EPOXY</strong> species source model, as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - A1 (prefactor)</p></li>
<li><p>&lt;float2&gt; - E1/R (activation energy/gas constant)</p></li>
<li><p>&lt;float3&gt; - A2 (prefactor)</p></li>
<li><p>&lt;float4&gt; - E2/R (activation energy/gas constant)</p></li>
<li><p>&lt;float5&gt; - m (exponent)</p></li>
<li><p>&lt;float6&gt; - n (exponent)</p></li>
</ul>
</div></blockquote>
<p>This model will be used with the <strong>EPOXY</strong> Heat Source model to compute the reaction
rate.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>EPOXY_DEA</strong> &lt;species&gt;
&lt;floatlist&gt;</p></td>
<td><p>The <strong>EPOXY_DEA</strong> model was created specifically for a diethanolamine-epoxy curing
reaction, a different model of the reaction kinetics from the EPOXY source model. The
&lt;float_list&gt; for <strong>EPOXY_DEA</strong> species source model has five values, where</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - A1</p></li>
<li><p>&lt;float2&gt; - E1/R</p></li>
<li><p>&lt;float3&gt; - A2 for the low-temperature regime</p></li>
<li><p>&lt;float4&gt; - E2/R for the low-temperature regime</p></li>
<li><p>&lt;float5&gt; - A2 for the mid-temperature regime</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>FOAM</strong></p></td>
<td><p>The <strong>FOAM</strong> model was created specifically for the removable epoxy foam
decomposition kinetics. However, the basis for evolving the density change can be
applied to other reactive material models. There are eight float inputs in
&lt;float_list&gt; which are used to specify two Arrhenius-type reaction rates r1 and r2
and two reference temperatures T1 and T2:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - A1</p></li>
<li><p>&lt;float2&gt; - E1</p></li>
<li><p>&lt;float3&gt; - sig_1 (not currently used).</p></li>
<li><p>&lt;float4&gt; - A2</p></li>
<li><p>&lt;float5&gt; - E2</p></li>
<li><p>&lt;float6&gt; - A2 sig_2 (not currently used)</p></li>
<li><p>&lt;float7&gt; - T1</p></li>
<li><p>&lt;float8&gt; - T2</p></li>
</ul>
</div></blockquote>
<p>where Aj and Ej are the Arrhenius pre-exponential factor and activation energy,
respectively, for reaction rate rj, and T1 and T2 are used to define a dimensionless
problem temperature T∗ = (T – T1) ⁄ (T2 – T ).</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>USER</strong> &lt;species&gt;
&lt;floatlist&gt;</p></td>
<td><p>The <strong>USER</strong> option indicates that a user-defined model has been introduced into the
usr_species_source routine in the user_mp.c file. The &lt;float_list&gt; is of arbitrary
length subject to the user’s requirements to parameterize the model.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id14">
<h3><strong>Examples</strong><a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<p>Sample card for the <strong>CONSTANT</strong> model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Species</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">CONSTANT</span> <span class="mi">0</span> <span class="mf">2.</span>
</pre></div>
</div>
<p>Sample card for the <strong>BUTLER_VOLMER</strong> model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Species</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">BUTLER_VOLMER</span> <span class="mi">1</span> <span class="o">-</span><span class="mf">1.</span> <span class="mf">.02</span> <span class="mf">1.</span> <span class="mf">4.e-5</span> <span class="mf">1.</span> <span class="mf">1.</span> <span class="mf">353.</span> <span class="mf">1.18</span> <span class="mf">4.</span>
</pre></div>
</div>
<p>Sample card for the <strong>ELECTROOSMOTIC</strong> model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Species</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">ELECTROOSMOTIC</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mf">1.</span> <span class="mf">.02</span> <span class="mf">1.</span> <span class="mf">4.e-5</span> <span class="mf">1.</span> <span class="mf">1.</span> <span class="mf">353.</span> <span class="mf">1.18</span> <span class="mf">4.0</span> <span class="mf">1.4</span>
</pre></div>
</div>
</section>
<section id="id15">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id15" title="Permalink to this headline"></a></h3>
<p>A discussion of units for species flux terms can be found under <strong>FAQs</strong> on the <em>Diffusivity</em>
card.</p>
<p>The <strong>CONSTANT</strong> option offers the simplest way for prescribing a constant
homogeneous rate of species generation or consumption involving in a speciestransport
process.</p>
<p>In the <strong>BUTLER_VOLMER</strong> model, the current source or sink due to a homogeneuous
electrochemical reaction involving a single species (e.g., the hydrogen oxidation and
oxygen reduction reactions in a hydrogen-feuled polymer-electrolyte-membrane fuel
cell) is computed using the Butler-Volmer kinetic model as described below in the
Theory section.</p>
<p>The <strong>ELECTRODE_KINETIC</strong> model computes the molar rate of electrolyte-species
generation or consumption in electrochemical processes involving concentrated
electrolyte solutions and multiple species as in thermal batteries. The molar rate of
electrolyte-species consumption is evaluated using Butler-Volmer kinetics along with
Faraday’s law. Further details can be found in the reference listed below in the
References sub-section (Chen et al. 2000).</p>
<p>The <strong>ELECTROOSMOTIC</strong> model computes the water-species flux due to the electroosmotic
drag of protons (H+), which is proportional to the average current density with
the proportionality constant being the electro-osmotic drag coefficient, nd.</p>
<p>The <strong>EPOXY</strong> model adds a reaction source term for a condensation polymerization
reaction based on an extent of reaction variable. The extent of reaction is tracked as a
convection equation with a reaction source term. The form of the EPOXY species
source term is</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/477_goma_physics.png"><img alt="../_images/477_goma_physics.png" src="../_images/477_goma_physics.png" style="width: 90px;" /></a>
</figure>
<p>where α is the extent of reaction, the rate constants, k1 and k2, can depend on
temperature in the Arrhenius manner, and m and n are exponents.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/478_goma_physics.png"><img alt="../_images/478_goma_physics.png" src="../_images/478_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where R is the gas constant in the appropriate units, Ai is the prefactor, and Ei is the
activation energy for reaction. Six parameters are required to define the model: A1 and
A2 (prefactors), E1 and E2 (activation energies), and m and n (exponents), with R
being the universal gas constant.</p>
<p>The <strong>EPOXY_DEA</strong> model was created specifically for diethanolamine-epoxy curing
reaction. While the expression for the source term is identical to the <strong>EPOXY</strong> model
(with n=1.6),</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/479_goma_physics.png"><img alt="../_images/479_goma_physics.png" src="../_images/479_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>the reaction kinetics differs, having three reaction regimes for exponent m and rate
constant k2. For T&lt; 65 C, m = 2 and</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/480_goma_physics.png"><img alt="../_images/480_goma_physics.png" src="../_images/480_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>for 65 C &lt; T&lt; 90C, m = 74*k2 and</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/481_goma_physics.png"><img alt="../_images/481_goma_physics.png" src="../_images/481_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>and for T &gt; 90C, m = k2 = 0. Rate constant k1 is fixed for all these regimes and is
determined from the prefactor A1 and activation energy E1.</p>
<p>The <strong>FOAM</strong> model computes the mixture volume change rate as:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/482_goma_physics.png"><img alt="../_images/482_goma_physics.png" src="../_images/482_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where ρmix is the mixture density as defined in the REACTIVE_FOAM density model
(which is required for this model) and Vi is the specific volume of component i.</p>
<p>The <strong>USER</strong> option indicates that a user-defined model has been introduced into the
usr_species_source routine in the user_mp.c file. The &lt;float_list&gt; is of arbitrary
length subject to the user’s requirements to parameterize the model.</p>
</section>
<section id="theory">
<h3><strong>Theory</strong><a class="headerlink" href="#theory" title="Permalink to this headline"></a></h3>
<p>The rate of species generation or consumption in electrochemical processes involving a
single species such as polymer-electrolyte-membrane fuel cells can be computed using
the Butler-Volmer kinetic model and the Faraday’s law (cf. Newman 1991, Chen et al.
2000, Chen and Hickner 2006):</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/483_goma_physics.png"><img alt="../_images/483_goma_physics.png" src="../_images/483_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where r is the homogeneous species source or sink in units of moles/cm3-s; s is the
stoichiometric coefficient with a sign comvention such that r represents a source when
s &gt; 0 and sink when s &lt; 0; n is the number of electrons involved in the electrochemical
reaction; ai0 denotes the product of interfacial area per unit volume by exchange
current density, which has units of A/cm3; c and cref are, respectively, species and
reference molar concentrations in units of moles/cm3; β is reaction order; αa and αc are,
respetively, the anodic and cathodic transfer coefficients; F is the Faraday’s constant
( ≡ 96487 C/mole) and R is the universal gasl constant ( ≡ 8.314 J/mole-K); and
are, respectively, the electrode and electrolyte potentials in unit of V; U0 is the
open-circuit potential in unit of V; and T is temperature in unit of K.</p>
</section>
<section id="id16">
<h3><strong>References</strong><a class="headerlink" href="#id16" title="Permalink to this headline"></a></h3>
<p>for EPOXY_DEA Model
GTM-011.0: Validation of 828/DEA/GMB Encapsulant using GOMA, August 20,
1999, A. C. Sun</p>
<p>for BUTLER_VOLMER and ELECTRODE_KINETIC Models:</p>
<p>J. Newman, Electrochemical Systems, 2nd Edition, Prentice-Hall, Englewood Cliff, NJ
(1991).</p>
<p>K. S. Chen, G. H. Evans, R. S. Larson, D. R. Noble, and W. G. Houf, “Final Report on
LDRD Project: A Phenomenological Model for Multicomponent Transport with
Simultaneous Electrochemical Reactions in Concentrated Solutions”, Sandia Report
SAND2000-0207 (2000).</p>
<p>K. S. Chen and M. A. Hickner, “Modeling PEM fuel cell performance using the finiteelement
method and a fully-coupled implicit solution scheme via Newton’s technique”,
in ASME Proceedings of FUELCELL2006-97032 (2006).</p>
</section>
</section>
<section id="current-source">
<h2><strong>Current Source</strong><a class="headerlink" href="#current-source" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Current</span> <span class="n">Source</span> <span class="o">=</span> <span class="p">{</span><span class="n">model_name</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">optional</span> <span class="n">integer</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">float_list</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">E</span><span class="o">/</span><span class="n">M</span><span class="p">]</span>
</pre></div>
</div>
<section id="id17">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<p>This card is used to specify the model for the source term on the voltage potential
equation. Values for the permissible {model_names} and the associated &lt;optional
integer&gt; and &lt;floatlist&gt; parameters are given below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>{model_name}</p></td>
<td><p>Name of the model for the source term on the voltage equation having permissible
values</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>CONSTANT</strong></p></li>
<li><p><strong>USER</strong></p></li>
<li><p><strong>BUTLER_VOLMER</strong></p></li>
<li><p><strong>ELECTRODE_KINETICS</strong></p></li>
<li><p><strong>FICKIAN_CHARGED</strong></p></li>
<li><p><strong>NET_CHARGE</strong></p></li>
<li><p><strong>STEFAN_MAXWELL_CHARGED</strong></p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>&lt;optional integer&gt;</p></td>
<td><p>This is required for the <strong>BUTLER_VOLMER</strong> model only.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;float_list&gt;</p></td>
<td><p>One or more floating point numbers (&lt;float1&gt; through &lt;floatn&gt;) whose values are
determined by the selection for {model_name}. Note that not all models have a
&lt;float_list&gt;.</p></td>
</tr>
</tbody>
</table>
<p>Source-term model choices and their parameters are discussed below. WARNING:
make sure the equation term multipliers for the source terms are set to unity (see the
Equation Cards segment in the previous chapter).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>CONSTANT</strong> &lt;float1&gt;</p></td>
<td><p>For the <strong>CONSTANT</strong> current source term, there is a single input parameter
corresponding to the current density.</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;float1&gt; - Current density [E/M]</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>USER</strong> &lt;float_list&gt;</p></td>
<td><p>For a user-defined model, the set of parameters specified in the &lt;floatlist&gt; are
defined in file user_mp.c in the function usr_current_source.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>BUTLER_VOLMER</strong>
&lt;integer&gt; &lt;float1&gt;
&lt;float2&gt; &lt;float3&gt; &lt;float4&gt;
&lt;float5&gt; &lt;float6&gt; &lt;float7&gt;
&lt;float8&gt;</p></td>
<td><p>This is the homogeneous current source or sink term (in units of amphere per unit
volume, e.g. A/cm3) as described by the Butler-Volmer kinetic model (see the Theory
section below).One integer and 8 flotas are required:</p>
<blockquote>
<div><ul class="simple">
<li><p>&lt;integer&gt; - Index of the species involved in the electrochemical reaction (here,
we assume that only a single species is involved).</p></li>
<li><p>&lt;float1&gt; - Stoichiometric coefficient, s.</p></li>
<li><p>&lt;float2&gt; - Product of interfacial area per unit volume by exchange current
density, ai0, in units of A/cm3.</p></li>
<li><p>&lt;float3&gt; - Reaction order, β.</p></li>
<li><p>&lt;float4&gt; - Reference species concentration, cref, in units of moles/cm3.</p></li>
<li><p>&lt;float5&gt; - Anodic transfer coefficient, αa.</p></li>
<li><p>&lt;float6&gt; - Cathodic transfer coefficient, αc.</p></li>
<li><p>&lt;float7&gt; - Temperature, T, in unit of K.</p></li>
<li><p>&lt;float8&gt; - Open-circuit potential, U0, in unit of V.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>ELECTRODE_KINETICS</strong></p></td>
<td><p>This is a toggle, turning the model on; no parameters are required.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>FICKIAN_CHARGED</strong></p></td>
<td><p>This is a toggle, turning the model on; no parameters are required.</p></td>
</tr>
<tr class="row-even"><td><p><strong>NET_CHARGE</strong></p></td>
<td><p>This is a toggle, turning the model on; no parameters are required.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>STEFAN_MAXWELL_CHARGED</strong></p></td>
<td><p>This is a toggle, turning the model on; no parameters are required.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id18">
<h3><strong>Examples</strong><a class="headerlink" href="#id18" title="Permalink to this headline"></a></h3>
<p>Sample card for the <strong>CONSTANT</strong> model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Current</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">CONSTANT</span> <span class="mf">0.50</span>
</pre></div>
</div>
<p>Sample card for the <strong>BUTLER_VOLMER</strong> model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Current</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">BUTLER_VOLMER</span> <span class="mi">0</span> <span class="mf">1.</span> <span class="mf">1000.</span> <span class="mf">0.5</span> <span class="mf">4.e-5</span> <span class="mf">1.</span> <span class="mf">1.</span> <span class="mf">353.</span> <span class="mf">0.</span>
</pre></div>
</div>
</section>
<section id="id19">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id19" title="Permalink to this headline"></a></h3>
<p>The <strong>CONSTANT</strong> and <strong>USER</strong> models are those standardly available in <em>Goma</em>.</p>
<p>In the <strong>BUTLER_VOLMER</strong> model the current source or sink due to a homogeneuous
electrochemical reaction involving a single species (e.g., the hydrogen oxidation and
oxygen reduction reactions in a hydrogen-feuled polymer-electrolyte-membrane fuel
cell) is computed using the Butler-Volmer kinetic model as described below in the
Theory section.</p>
<p>In the <strong>FICKIAN_CHARGED</strong> model, current source or sink for electrochemical
processes involving dilute electrolyte solution and multiple species as in LIGA
electrodeposition is computed.</p>
<p>The <strong>NET_CHARGE</strong> model is used to compute the net charge or current source in a
region where the concentrations of positively and negatively charged species differ as
in the space layer of a atmospheric copper sulfidation process, in which the copper hole
and vacancy concentrations differ such that charge separation occur (see the reference
listed below in the Reference sub-section, Chen 2004, for further details).</p>
<p>In the <strong>STEFAN_MAXWELL_CHARGED</strong> and <strong>ELECTRODE_KINETICS</strong>
models, current sources or sinks for electrochemical processes involving concentrated
electrolyte solutions and multiple species as in thermal batteries are computed.</p>
<p>Further details of these models can be found in the SAND Reports and proceeding
paper referenced below in the Theory sub-section.</p>
</section>
<section id="id20">
<h3><strong>Theory</strong><a class="headerlink" href="#id20" title="Permalink to this headline"></a></h3>
<p>BUTLER_VOLMER model: for the Butler-Volmer kinetic model with the exchange
current density being dependent on a single species is given by (cf. Newman 1991,
Chen et al. 2000, Chen and Hickner 2006):</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/484_goma_physics.png"><img alt="../_images/484_goma_physics.png" src="../_images/484_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where j is the homogeneous current source or sink in units of A/cm3; s is the
stoichiometric coefficient with a sign convention such that j represents a source when s
&gt; 0 and sink when s &lt; 0; ai0 denotes the product of interfacial area per unit volume by
exchange current density, which has units of A/cm3; c and cref are, respectively, species
and reference molar concentrations in units of moles/cm3; β is reaction order; αa and αc
are, respetively, the anodic and cathodic transfer coefficients; F is the Faraday’s
constant ( ≡ 96487 C/mole) and R is the universal gasl constant ( ≡ 8.314 J/mole-
K); Φ1 and Φ2 are, respectively, the electrode and electrolyte potentials in unit of V;
U0 is the open-circuit potential in unit of V; and T is temperature in unit of K.</p>
<p>NET_CHARGE model: The net charge or current source in a region with charge
separation (e.g., in a space charge layer in which hole and vacancy concentrations
differ as in the atmospheric copper sulfidation corrosion process) is given by</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/485_goma_physics.png"><img alt="../_images/485_goma_physics.png" src="../_images/485_goma_physics.png" style="width: 90%;" /></a>
</figure>
<p>where j is the net charge or current source in units of A/cm3; zi is the charge number and
ci is the molar concentration in units of moles/cm3, respectively, of species i; F is the
Faraday’s constant ( ≡ 96487 C/mole); and n is the number of charge species present.</p>
</section>
<section id="id21">
<h3><strong>References</strong><a class="headerlink" href="#id21" title="Permalink to this headline"></a></h3>
<ol class="upperalpha simple" start="10">
<li><p>Newman, Electrochemical Systems, 2nd Edition, Prentice-Hall, NJ (1991).</p></li>
</ol>
<p>K. S. Chen, G. H. Evans, R. S. Larson, D. R. Noble, and W. G. Houf, “Final Report on
LDRD Project: A Phenomenological Model for Multicomponent Transport with
Simultaneous Electrochemical Reactions in Concentrated Solutions”, Sandia Report
SAND2000-0207 (2000).</p>
<p>K. S. Chen and G. H. Evans, “Multi-dimensional Multi-species Modeling of Transient
Electrodeposition in LIGA Microfabrication”, Sandia Report SAND2004-2864 (2004).</p>
<p>K. S. Chen, “Multi-dimensional Modeling of Atmospheric Copper-Sulfidation
Corrosion on non-Planar Substrates”, Sandia Report SAND2004-5878 (2004).</p>
<p>K. S. Chen and M. A. Hickner, “Modeling PEM fuel cell performance using the finiteelement
method and a fully-coupled implicit solution scheme via Newton’s technique”,
in ASME Proceedings of FUELCELL2006-97032 (2006).</p>
</section>
</section>
<section id="moment-source">
<h2>Moment Source<a class="headerlink" href="#moment-source" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Moment</span> <span class="n">Source</span> <span class="o">=</span> <span class="p">{</span><span class="n">model_name</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">float_list</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">varies</span><span class="p">]</span>
</pre></div>
</div>
<section id="id22">
<h3>Description / Usage<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h3>
<p>This required card is used to specify the model for the source term on the energy
equation. Definitions of the input parameters are as follows:</p>
<dl class="simple">
<dt>{model_name}</dt><dd><p>Name of the model for the source term on the energy equation. The permissible values
are
* FOAM_PMDI_10
* CONSTANT_GROWTH
* FOAM_PBE</p>
</dd>
<dt>&lt;float_list&gt;</dt><dd><p>One or more floating point numbers (&lt;float1&gt; through &lt;floatn&gt;) whose values are
determined by the selection for {model_name}. Note that not all models have a
&lt;float_list&gt;</p>
</dd>
</dl>
<p>Source-term model choices and their parameters are discussed below. WARNING:
make sure the equation term multipliers for the source terms are set to unity (see the
Equation Cards segment in the previous chapter).</p>
<dl class="simple">
<dt>FOAM_PMDI_10</dt><dd><p>Foam PMDI_10 model from Ortiz et al.
* &lt;float1&gt; Growth rate coefficient, multiplicative with Moment Growth Rate Kernel
* &lt;float2&gt; Coalescence kernel (Unused, set to 1.)</p>
</dd>
<dt>CONSTANT_GROWTH</dt><dd><p>Constant growth rate
* &lt;float1&gt; Growth rate coefficient</p>
</dd>
</dl>
</section>
<section id="id23">
<h3><strong>Examples</strong><a class="headerlink" href="#id23" title="Permalink to this headline"></a></h3>
<p>The following is a sample input card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Moment</span> <span class="n">Source</span> <span class="o">=</span> <span class="n">FOAM_PMDI_10</span> <span class="mf">1.</span> <span class="mf">1.</span>
</pre></div>
</div>
</section>
<section id="id24">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id24" title="Permalink to this headline"></a></h3>
</section>
<section id="id25">
<h3><strong>References</strong><a class="headerlink" href="#id25" title="Permalink to this headline"></a></h3>
<p>Ortiz, Weston, et al. “Population balance modeling of polyurethane foam formation with pressure‐dependent growth kernel.” AIChE Journal (2021): e17529.</p>
</section>
</section>
<section id="initialize">
<h2><strong>Initialize</strong><a class="headerlink" href="#initialize" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Initialize</span> <span class="o">=</span> <span class="p">{</span><span class="n">char_string</span><span class="p">}</span> <span class="o">&lt;</span><span class="n">integer</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">varies</span><span class="p">]</span>
</pre></div>
</div>
<section id="id26">
<h3><strong>Description / Usage</strong><a class="headerlink" href="#id26" title="Permalink to this headline"></a></h3>
<p>This optional card provides a mechanism to set one of the field variables to a constant
value within the current material block. Definitions of the input parameters are as
follows:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>&lt;char_string&gt;</p></td>
<td><p>Permissible values for this input string are any variable names identified in source
file rf_fem_const.h beginning at the section labeled Variable Names of unknowns,
though they should be active in this material block. Examples include, but are not
limited to, the following:</p>
<p><strong>VELOCITY1, VELOCITY2, VELOCITY3 (V123),MESH_DISPLACEMENT (MD123),
SOLID_DISPLACEMENT (SD123), MASS_FRACTION, TEMPERATURE, PRESSURE,VOLTAGE, FILL, LS,
POLYMER_STRESS (6 components, 8 modes), VELOCITY_GRADIENT (9 components), SHEAR_RATE,
VOLF_PHASE (6 phases), POR_LIQ_PRES, POR_GAS_PRES, POR_POROSITY, POR_SATURATION,
POR_LAST, LAGR_MULT (LM123), SURF_CHARGE, EXT_VELOCITY, EFIELD(123), SHELL
(4 variables), SPECIES (7 variables).</strong></p>
<p><em>Note: for a comprehensive list of initializable variables, consult Volume 1
“Initialize” card.</em></p>
</td>
</tr>
<tr class="row-even"><td><p>&lt;integer&gt;</p></td>
<td><p>Species number to be initialized if the value of {char_string} is one of the
<strong>SPECIES</strong> variables (see Technical Discussion); otherwise, set &lt;integer&gt; to zero.</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;float&gt;</p></td>
<td><p>Value to which the variable should be initialized.</p></td>
</tr>
</tbody>
</table>
<p><em>Multiple applications of this card are valid; Goma automatically counts the number of Initialize cards.</em></p>
</section>
<section id="id27">
<h3><strong>Examples</strong><a class="headerlink" href="#id27" title="Permalink to this headline"></a></h3>
<p>Following is a sample card:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">INITIALIZE</span> <span class="o">=</span> <span class="n">POLYMER_STRESS11</span> <span class="mi">0</span> <span class="mf">1.25E4</span>
</pre></div>
</div>
</section>
<section id="id28">
<h3><strong>Technical Discussion</strong><a class="headerlink" href="#id28" title="Permalink to this headline"></a></h3>
<p>This card provides the means to set initial values for any of the field variables in the
element block for a particular material. Since the setting of variables initialized on this
card takes place after reading the initial guess (see function init_vec in file rf_util.c), it
can be used to override the value in the initial guess file.</p>
<p>In order to set a field to a specific value over the entire problem domain, a similar
<em>Initialize</em> capability is provided as a global variable in the <em>General Specifications</em>
section of the <em>Goma</em> input file. Please check in the Problem Description section of this
manual.</p>
<p>Note, the <strong>SPECIES_UNK</strong> variables are <strong>NOT</strong> used to initialize any of the species
variables. Rather, the special definition called <strong>MASS_FRACTION</strong>
is the variables used in Goma input or mat
files for this input record. Multiple species are initialized by combining
<strong>MASS_FRACTION</strong> with the second parameter (&lt;integer&gt;) on this card. These cards are
particularly handy for mass transfer problems, where the initial conditions need to
specify different concentrations of the same species in different materials.</p>
<p>Note: for a comprehensive list of initializable variables, consult Volume 1 “Initialize”
card.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="species.html" class="btn btn-neutral float-left" title="Species Properties" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="shell_equation.html" class="btn btn-neutral float-right" title="Shell Equation Properties and Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019 Goma Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>